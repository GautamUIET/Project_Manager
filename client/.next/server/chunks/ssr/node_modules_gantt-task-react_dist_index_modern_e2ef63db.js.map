{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"file":"index.modern.js","sources":["file:///C:/Users/91798/OneDrive/Desktop/Project_Management/client/node_modules/gantt-task-react/src/types/public-types.ts","file:///C:/Users/91798/OneDrive/Desktop/Project_Management/client/node_modules/gantt-task-react/src/helpers/date-helper.ts","file:///C:/Users/91798/OneDrive/Desktop/Project_Management/client/node_modules/gantt-task-react/src/components/task-list/task-list-header.tsx","file:///C:/Users/91798/OneDrive/Desktop/Project_Management/client/node_modules/gantt-task-react/src/components/task-list/task-list-table.tsx","file:///C:/Users/91798/OneDrive/Desktop/Project_Management/client/node_modules/gantt-task-react/src/components/other/tooltip.tsx","file:///C:/Users/91798/OneDrive/Desktop/Project_Management/client/node_modules/gantt-task-react/src/components/other/vertical-scroll.tsx","file:///C:/Users/91798/OneDrive/Desktop/Project_Management/client/node_modules/gantt-task-react/src/components/task-list/task-list.tsx","file:///C:/Users/91798/OneDrive/Desktop/Project_Management/client/node_modules/gantt-task-react/src/components/grid/grid-body.tsx","file:///C:/Users/91798/OneDrive/Desktop/Project_Management/client/node_modules/gantt-task-react/src/components/grid/grid.tsx","file:///C:/Users/91798/OneDrive/Desktop/Project_Management/client/node_modules/gantt-task-react/src/components/calendar/top-part-of-calendar.tsx","file:///C:/Users/91798/OneDrive/Desktop/Project_Management/client/node_modules/gantt-task-react/src/components/calendar/calendar.tsx","file:///C:/Users/91798/OneDrive/Desktop/Project_Management/client/node_modules/gantt-task-react/node_modules/babel-plugin-transform-async-to-promises/helpers.mjs","file:///C:/Users/91798/OneDrive/Desktop/Project_Management/client/node_modules/gantt-task-react/src/components/other/arrow.tsx","file:///C:/Users/91798/OneDrive/Desktop/Project_Management/client/node_modules/gantt-task-react/src/helpers/bar-helper.ts","file:///C:/Users/91798/OneDrive/Desktop/Project_Management/client/node_modules/gantt-task-react/src/helpers/other-helper.ts","file:///C:/Users/91798/OneDrive/Desktop/Project_Management/client/node_modules/gantt-task-react/src/components/task-item/bar/bar-display.tsx","file:///C:/Users/91798/OneDrive/Desktop/Project_Management/client/node_modules/gantt-task-react/src/components/task-item/bar/bar-date-handle.tsx","file:///C:/Users/91798/OneDrive/Desktop/Project_Management/client/node_modules/gantt-task-react/src/components/task-item/bar/bar-progress-handle.tsx","file:///C:/Users/91798/OneDrive/Desktop/Project_Management/client/node_modules/gantt-task-react/src/components/task-item/bar/bar.tsx","file:///C:/Users/91798/OneDrive/Desktop/Project_Management/client/node_modules/gantt-task-react/src/components/task-item/bar/bar-small.tsx","file:///C:/Users/91798/OneDrive/Desktop/Project_Management/client/node_modules/gantt-task-react/src/components/task-item/milestone/milestone.tsx","file:///C:/Users/91798/OneDrive/Desktop/Project_Management/client/node_modules/gantt-task-react/src/components/task-item/project/project.tsx","file:///C:/Users/91798/OneDrive/Desktop/Project_Management/client/node_modules/gantt-task-react/src/components/task-item/task-item.tsx","file:///C:/Users/91798/OneDrive/Desktop/Project_Management/client/node_modules/gantt-task-react/src/components/gantt/task-gantt-content.tsx","file:///C:/Users/91798/OneDrive/Desktop/Project_Management/client/node_modules/gantt-task-react/src/components/gantt/task-gantt.tsx","file:///C:/Users/91798/OneDrive/Desktop/Project_Management/client/node_modules/gantt-task-react/src/components/other/horizontal-scroll.tsx","file:///C:/Users/91798/OneDrive/Desktop/Project_Management/client/node_modules/gantt-task-react/src/components/gantt/gantt.tsx"],"sourcesContent":["export enum ViewMode {\n  Hour = \"Hour\",\n  QuarterDay = \"Quarter Day\",\n  HalfDay = \"Half Day\",\n  Day = \"Day\",\n  /** ISO-8601 week */\n  Week = \"Week\",\n  Month = \"Month\",\n  Year = \"Year\",\n}\nexport type TaskType = \"task\" | \"milestone\" | \"project\";\nexport interface Task {\n  id: string;\n  type: TaskType;\n  name: string;\n  start: Date;\n  end: Date;\n  /**\n   * From 0 to 100\n   */\n  progress: number;\n  styles?: {\n    backgroundColor?: string;\n    backgroundSelectedColor?: string;\n    progressColor?: string;\n    progressSelectedColor?: string;\n  };\n  isDisabled?: boolean;\n  project?: string;\n  dependencies?: string[];\n  hideChildren?: boolean;\n  displayOrder?: number;\n}\n\nexport interface EventOption {\n  /**\n   * Time step value for date changes.\n   */\n  timeStep?: number;\n  /**\n   * Invokes on bar select on unselect.\n   */\n  onSelect?: (task: Task, isSelected: boolean) => void;\n  /**\n   * Invokes on bar double click.\n   */\n  onDoubleClick?: (task: Task) => void;\n  /**\n   * Invokes on bar click.\n   */\n  onClick?: (task: Task) => void;\n  /**\n   * Invokes on end and start time change. Chart undoes operation if method return false or error.\n   */\n  onDateChange?: (\n    task: Task,\n    children: Task[]\n  ) => void | boolean | Promise<void> | Promise<boolean>;\n  /**\n   * Invokes on progress change. Chart undoes operation if method return false or error.\n   */\n  onProgressChange?: (\n    task: Task,\n    children: Task[]\n  ) => void | boolean | Promise<void> | Promise<boolean>;\n  /**\n   * Invokes on delete selected task. Chart undoes operation if method return false or error.\n   */\n  onDelete?: (task: Task) => void | boolean | Promise<void> | Promise<boolean>;\n  /**\n   * Invokes on expander on task list\n   */\n  onExpanderClick?: (task: Task) => void;\n}\n\nexport interface DisplayOption {\n  viewMode?: ViewMode;\n  viewDate?: Date;\n  preStepsCount?: number;\n  /**\n   * Specifies the month name language. Able formats: ISO 639-2, Java Locale\n   */\n  locale?: string;\n  rtl?: boolean;\n}\n\nexport interface StylingOption {\n  headerHeight?: number;\n  columnWidth?: number;\n  listCellWidth?: string;\n  rowHeight?: number;\n  ganttHeight?: number;\n  barCornerRadius?: number;\n  handleWidth?: number;\n  fontFamily?: string;\n  fontSize?: string;\n  /**\n   * How many of row width can be taken by task.\n   * From 0 to 100\n   */\n  barFill?: number;\n  barProgressColor?: string;\n  barProgressSelectedColor?: string;\n  barBackgroundColor?: string;\n  barBackgroundSelectedColor?: string;\n  projectProgressColor?: string;\n  projectProgressSelectedColor?: string;\n  projectBackgroundColor?: string;\n  projectBackgroundSelectedColor?: string;\n  milestoneBackgroundColor?: string;\n  milestoneBackgroundSelectedColor?: string;\n  arrowColor?: string;\n  arrowIndent?: number;\n  todayColor?: string;\n  TooltipContent?: React.FC<{\n    task: Task;\n    fontSize: string;\n    fontFamily: string;\n  }>;\n  TaskListHeader?: React.FC<{\n    headerHeight: number;\n    rowWidth: string;\n    fontFamily: string;\n    fontSize: string;\n  }>;\n  TaskListTable?: React.FC<{\n    rowHeight: number;\n    rowWidth: string;\n    fontFamily: string;\n    fontSize: string;\n    locale: string;\n    tasks: Task[];\n    selectedTaskId: string;\n    /**\n     * Sets selected task by id\n     */\n    setSelectedTask: (taskId: string) => void;\n    onExpanderClick: (task: Task) => void;\n  }>;\n}\n\nexport interface GanttProps extends EventOption, DisplayOption, StylingOption {\n  tasks: Task[];\n}\n","import { Task, ViewMode } from \"../types/public-types\";\nimport DateTimeFormatOptions = Intl.DateTimeFormatOptions;\nimport DateTimeFormat = Intl.DateTimeFormat;\n\ntype DateHelperScales =\n  | \"year\"\n  | \"month\"\n  | \"day\"\n  | \"hour\"\n  | \"minute\"\n  | \"second\"\n  | \"millisecond\";\n\nconst intlDTCache = {};\nexport const getCachedDateTimeFormat = (\n  locString: string | string[],\n  opts: DateTimeFormatOptions = {}\n): DateTimeFormat => {\n  const key = JSON.stringify([locString, opts]);\n  let dtf = intlDTCache[key];\n  if (!dtf) {\n    dtf = new Intl.DateTimeFormat(locString, opts);\n    intlDTCache[key] = dtf;\n  }\n  return dtf;\n};\n\nexport const addToDate = (\n  date: Date,\n  quantity: number,\n  scale: DateHelperScales\n) => {\n  const newDate = new Date(\n    date.getFullYear() + (scale === \"year\" ? quantity : 0),\n    date.getMonth() + (scale === \"month\" ? quantity : 0),\n    date.getDate() + (scale === \"day\" ? quantity : 0),\n    date.getHours() + (scale === \"hour\" ? quantity : 0),\n    date.getMinutes() + (scale === \"minute\" ? quantity : 0),\n    date.getSeconds() + (scale === \"second\" ? quantity : 0),\n    date.getMilliseconds() + (scale === \"millisecond\" ? quantity : 0)\n  );\n  return newDate;\n};\n\nexport const startOfDate = (date: Date, scale: DateHelperScales) => {\n  const scores = [\n    \"millisecond\",\n    \"second\",\n    \"minute\",\n    \"hour\",\n    \"day\",\n    \"month\",\n    \"year\",\n  ];\n\n  const shouldReset = (_scale: DateHelperScales) => {\n    const maxScore = scores.indexOf(scale);\n    return scores.indexOf(_scale) <= maxScore;\n  };\n  const newDate = new Date(\n    date.getFullYear(),\n    shouldReset(\"year\") ? 0 : date.getMonth(),\n    shouldReset(\"month\") ? 1 : date.getDate(),\n    shouldReset(\"day\") ? 0 : date.getHours(),\n    shouldReset(\"hour\") ? 0 : date.getMinutes(),\n    shouldReset(\"minute\") ? 0 : date.getSeconds(),\n    shouldReset(\"second\") ? 0 : date.getMilliseconds()\n  );\n  return newDate;\n};\n\nexport const ganttDateRange = (\n  tasks: Task[],\n  viewMode: ViewMode,\n  preStepsCount: number\n) => {\n  let newStartDate: Date = tasks[0].start;\n  let newEndDate: Date = tasks[0].start;\n  for (const task of tasks) {\n    if (task.start < newStartDate) {\n      newStartDate = task.start;\n    }\n    if (task.end > newEndDate) {\n      newEndDate = task.end;\n    }\n  }\n  switch (viewMode) {\n    case ViewMode.Year:\n      newStartDate = addToDate(newStartDate, -1, \"year\");\n      newStartDate = startOfDate(newStartDate, \"year\");\n      newEndDate = addToDate(newEndDate, 1, \"year\");\n      newEndDate = startOfDate(newEndDate, \"year\");\n      break;\n    case ViewMode.Month:\n      newStartDate = addToDate(newStartDate, -1 * preStepsCount, \"month\");\n      newStartDate = startOfDate(newStartDate, \"month\");\n      newEndDate = addToDate(newEndDate, 1, \"year\");\n      newEndDate = startOfDate(newEndDate, \"year\");\n      break;\n    case ViewMode.Week:\n      newStartDate = startOfDate(newStartDate, \"day\");\n      newStartDate = addToDate(\n        getMonday(newStartDate),\n        -7 * preStepsCount,\n        \"day\"\n      );\n      newEndDate = startOfDate(newEndDate, \"day\");\n      newEndDate = addToDate(newEndDate, 1.5, \"month\");\n      break;\n    case ViewMode.Day:\n      newStartDate = startOfDate(newStartDate, \"day\");\n      newStartDate = addToDate(newStartDate, -1 * preStepsCount, \"day\");\n      newEndDate = startOfDate(newEndDate, \"day\");\n      newEndDate = addToDate(newEndDate, 19, \"day\");\n      break;\n    case ViewMode.QuarterDay:\n      newStartDate = startOfDate(newStartDate, \"day\");\n      newStartDate = addToDate(newStartDate, -1 * preStepsCount, \"day\");\n      newEndDate = startOfDate(newEndDate, \"day\");\n      newEndDate = addToDate(newEndDate, 66, \"hour\"); // 24(1 day)*3 - 6\n      break;\n    case ViewMode.HalfDay:\n      newStartDate = startOfDate(newStartDate, \"day\");\n      newStartDate = addToDate(newStartDate, -1 * preStepsCount, \"day\");\n      newEndDate = startOfDate(newEndDate, \"day\");\n      newEndDate = addToDate(newEndDate, 108, \"hour\"); // 24(1 day)*5 - 12\n      break;\n    case ViewMode.Hour:\n      newStartDate = startOfDate(newStartDate, \"hour\");\n      newStartDate = addToDate(newStartDate, -1 * preStepsCount, \"hour\");\n      newEndDate = startOfDate(newEndDate, \"day\");\n      newEndDate = addToDate(newEndDate, 1, \"day\");\n      break;\n  }\n  return [newStartDate, newEndDate];\n};\n\nexport const seedDates = (\n  startDate: Date,\n  endDate: Date,\n  viewMode: ViewMode\n) => {\n  let currentDate: Date = new Date(startDate);\n  const dates: Date[] = [currentDate];\n  while (currentDate < endDate) {\n    switch (viewMode) {\n      case ViewMode.Year:\n        currentDate = addToDate(currentDate, 1, \"year\");\n        break;\n      case ViewMode.Month:\n        currentDate = addToDate(currentDate, 1, \"month\");\n        break;\n      case ViewMode.Week:\n        currentDate = addToDate(currentDate, 7, \"day\");\n        break;\n      case ViewMode.Day:\n        currentDate = addToDate(currentDate, 1, \"day\");\n        break;\n      case ViewMode.HalfDay:\n        currentDate = addToDate(currentDate, 12, \"hour\");\n        break;\n      case ViewMode.QuarterDay:\n        currentDate = addToDate(currentDate, 6, \"hour\");\n        break;\n      case ViewMode.Hour:\n        currentDate = addToDate(currentDate, 1, \"hour\");\n        break;\n    }\n    dates.push(currentDate);\n  }\n  return dates;\n};\n\nexport const getLocaleMonth = (date: Date, locale: string) => {\n  let bottomValue = getCachedDateTimeFormat(locale, {\n    month: \"long\",\n  }).format(date);\n  bottomValue = bottomValue.replace(\n    bottomValue[0],\n    bottomValue[0].toLocaleUpperCase()\n  );\n  return bottomValue;\n};\n\nexport const getLocalDayOfWeek = (\n  date: Date,\n  locale: string,\n  format?: \"long\" | \"short\" | \"narrow\" | undefined\n) => {\n  let bottomValue = getCachedDateTimeFormat(locale, {\n    weekday: format,\n  }).format(date);\n  bottomValue = bottomValue.replace(\n    bottomValue[0],\n    bottomValue[0].toLocaleUpperCase()\n  );\n  return bottomValue;\n};\n\n/**\n * Returns monday of current week\n * @param date date for modify\n */\nconst getMonday = (date: Date) => {\n  const day = date.getDay();\n  const diff = date.getDate() - day + (day === 0 ? -6 : 1); // adjust when day is sunday\n  return new Date(date.setDate(diff));\n};\n\nexport const getWeekNumberISO8601 = (date: Date) => {\n  const tmpDate = new Date(date.valueOf());\n  const dayNumber = (tmpDate.getDay() + 6) % 7;\n  tmpDate.setDate(tmpDate.getDate() - dayNumber + 3);\n  const firstThursday = tmpDate.valueOf();\n  tmpDate.setMonth(0, 1);\n  if (tmpDate.getDay() !== 4) {\n    tmpDate.setMonth(0, 1 + ((4 - tmpDate.getDay() + 7) % 7));\n  }\n  const weekNumber = (\n    1 + Math.ceil((firstThursday - tmpDate.valueOf()) / 604800000)\n  ).toString();\n\n  if (weekNumber.length === 1) {\n    return `0${weekNumber}`;\n  } else {\n    return weekNumber;\n  }\n};\n\nexport const getDaysInMonth = (month: number, year: number) => {\n  return new Date(year, month + 1, 0).getDate();\n};\n","import React from \"react\";\nimport styles from \"./task-list-header.module.css\";\n\nexport const TaskListHeaderDefault: React.FC<{\n  headerHeight: number;\n  rowWidth: string;\n  fontFamily: string;\n  fontSize: string;\n}> = ({ headerHeight, fontFamily, fontSize, rowWidth }) => {\n  return (\n    <div\n      className={styles.ganttTable}\n      style={{\n        fontFamily: fontFamily,\n        fontSize: fontSize,\n      }}\n    >\n      <div\n        className={styles.ganttTable_Header}\n        style={{\n          height: headerHeight - 2,\n        }}\n      >\n        <div\n          className={styles.ganttTable_HeaderItem}\n          style={{\n            minWidth: rowWidth,\n          }}\n        >\n          &nbsp;Name\n        </div>\n        <div\n          className={styles.ganttTable_HeaderSeparator}\n          style={{\n            height: headerHeight * 0.5,\n            marginTop: headerHeight * 0.2,\n          }}\n        />\n        <div\n          className={styles.ganttTable_HeaderItem}\n          style={{\n            minWidth: rowWidth,\n          }}\n        >\n          &nbsp;From\n        </div>\n        <div\n          className={styles.ganttTable_HeaderSeparator}\n          style={{\n            height: headerHeight * 0.5,\n            marginTop: headerHeight * 0.25,\n          }}\n        />\n        <div\n          className={styles.ganttTable_HeaderItem}\n          style={{\n            minWidth: rowWidth,\n          }}\n        >\n          &nbsp;To\n        </div>\n      </div>\n    </div>\n  );\n};\n","import React, { useMemo } from \"react\";\nimport styles from \"./task-list-table.module.css\";\nimport { Task } from \"../../types/public-types\";\n\nconst localeDateStringCache = {};\nconst toLocaleDateStringFactory =\n  (locale: string) =>\n  (date: Date, dateTimeOptions: Intl.DateTimeFormatOptions) => {\n    const key = date.toString();\n    let lds = localeDateStringCache[key];\n    if (!lds) {\n      lds = date.toLocaleDateString(locale, dateTimeOptions);\n      localeDateStringCache[key] = lds;\n    }\n    return lds;\n  };\nconst dateTimeOptions: Intl.DateTimeFormatOptions = {\n  weekday: \"short\",\n  year: \"numeric\",\n  month: \"long\",\n  day: \"numeric\",\n};\n\nexport const TaskListTableDefault: React.FC<{\n  rowHeight: number;\n  rowWidth: string;\n  fontFamily: string;\n  fontSize: string;\n  locale: string;\n  tasks: Task[];\n  selectedTaskId: string;\n  setSelectedTask: (taskId: string) => void;\n  onExpanderClick: (task: Task) => void;\n}> = ({\n  rowHeight,\n  rowWidth,\n  tasks,\n  fontFamily,\n  fontSize,\n  locale,\n  onExpanderClick,\n}) => {\n  const toLocaleDateString = useMemo(\n    () => toLocaleDateStringFactory(locale),\n    [locale]\n  );\n\n  return (\n    <div\n      className={styles.taskListWrapper}\n      style={{\n        fontFamily: fontFamily,\n        fontSize: fontSize,\n      }}\n    >\n      {tasks.map(t => {\n        let expanderSymbol = \"\";\n        if (t.hideChildren === false) {\n          expanderSymbol = \"▼\";\n        } else if (t.hideChildren === true) {\n          expanderSymbol = \"▶\";\n        }\n\n        return (\n          <div\n            className={styles.taskListTableRow}\n            style={{ height: rowHeight }}\n            key={`${t.id}row`}\n          >\n            <div\n              className={styles.taskListCell}\n              style={{\n                minWidth: rowWidth,\n                maxWidth: rowWidth,\n              }}\n              title={t.name}\n            >\n              <div className={styles.taskListNameWrapper}>\n                <div\n                  className={\n                    expanderSymbol\n                      ? styles.taskListExpander\n                      : styles.taskListEmptyExpander\n                  }\n                  onClick={() => onExpanderClick(t)}\n                >\n                  {expanderSymbol}\n                </div>\n                <div>{t.name}</div>\n              </div>\n            </div>\n            <div\n              className={styles.taskListCell}\n              style={{\n                minWidth: rowWidth,\n                maxWidth: rowWidth,\n              }}\n            >\n              &nbsp;{toLocaleDateString(t.start, dateTimeOptions)}\n            </div>\n            <div\n              className={styles.taskListCell}\n              style={{\n                minWidth: rowWidth,\n                maxWidth: rowWidth,\n              }}\n            >\n              &nbsp;{toLocaleDateString(t.end, dateTimeOptions)}\n            </div>\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n","import React, { useRef, useEffect, useState } from \"react\";\nimport { Task } from \"../../types/public-types\";\nimport { BarTask } from \"../../types/bar-task\";\nimport styles from \"./tooltip.module.css\";\n\nexport type TooltipProps = {\n  task: BarTask;\n  arrowIndent: number;\n  rtl: boolean;\n  svgContainerHeight: number;\n  svgContainerWidth: number;\n  svgWidth: number;\n  headerHeight: number;\n  taskListWidth: number;\n  scrollX: number;\n  scrollY: number;\n  rowHeight: number;\n  fontSize: string;\n  fontFamily: string;\n  TooltipContent: React.FC<{\n    task: Task;\n    fontSize: string;\n    fontFamily: string;\n  }>;\n};\nexport const Tooltip: React.FC<TooltipProps> = ({\n  task,\n  rowHeight,\n  rtl,\n  svgContainerHeight,\n  svgContainerWidth,\n  scrollX,\n  scrollY,\n  arrowIndent,\n  fontSize,\n  fontFamily,\n  headerHeight,\n  taskListWidth,\n  TooltipContent,\n}) => {\n  const tooltipRef = useRef<HTMLDivElement | null>(null);\n  const [relatedY, setRelatedY] = useState(0);\n  const [relatedX, setRelatedX] = useState(0);\n  useEffect(() => {\n    if (tooltipRef.current) {\n      const tooltipHeight = tooltipRef.current.offsetHeight * 1.1;\n      const tooltipWidth = tooltipRef.current.offsetWidth * 1.1;\n\n      let newRelatedY = task.index * rowHeight - scrollY + headerHeight;\n      let newRelatedX: number;\n      if (rtl) {\n        newRelatedX = task.x1 - arrowIndent * 1.5 - tooltipWidth - scrollX;\n        if (newRelatedX < 0) {\n          newRelatedX = task.x2 + arrowIndent * 1.5 - scrollX;\n        }\n        const tooltipLeftmostPoint = tooltipWidth + newRelatedX;\n        if (tooltipLeftmostPoint > svgContainerWidth) {\n          newRelatedX = svgContainerWidth - tooltipWidth;\n          newRelatedY += rowHeight;\n        }\n      } else {\n        newRelatedX = task.x2 + arrowIndent * 1.5 + taskListWidth - scrollX;\n        const tooltipLeftmostPoint = tooltipWidth + newRelatedX;\n        const fullChartWidth = taskListWidth + svgContainerWidth;\n        if (tooltipLeftmostPoint > fullChartWidth) {\n          newRelatedX =\n            task.x1 +\n            taskListWidth -\n            arrowIndent * 1.5 -\n            scrollX -\n            tooltipWidth;\n        }\n        if (newRelatedX < taskListWidth) {\n          newRelatedX = svgContainerWidth + taskListWidth - tooltipWidth;\n          newRelatedY += rowHeight;\n        }\n      }\n\n      const tooltipLowerPoint = tooltipHeight + newRelatedY - scrollY;\n      if (tooltipLowerPoint > svgContainerHeight - scrollY) {\n        newRelatedY = svgContainerHeight - tooltipHeight;\n      }\n      setRelatedY(newRelatedY);\n      setRelatedX(newRelatedX);\n    }\n  }, [\n    tooltipRef,\n    task,\n    arrowIndent,\n    scrollX,\n    scrollY,\n    headerHeight,\n    taskListWidth,\n    rowHeight,\n    svgContainerHeight,\n    svgContainerWidth,\n    rtl,\n  ]);\n\n  return (\n    <div\n      ref={tooltipRef}\n      className={\n        relatedX\n          ? styles.tooltipDetailsContainer\n          : styles.tooltipDetailsContainerHidden\n      }\n      style={{ left: relatedX, top: relatedY }}\n    >\n      <TooltipContent task={task} fontSize={fontSize} fontFamily={fontFamily} />\n    </div>\n  );\n};\n\nexport const StandardTooltipContent: React.FC<{\n  task: Task;\n  fontSize: string;\n  fontFamily: string;\n}> = ({ task, fontSize, fontFamily }) => {\n  const style = {\n    fontSize,\n    fontFamily,\n  };\n  return (\n    <div className={styles.tooltipDefaultContainer} style={style}>\n      <b style={{ fontSize: fontSize + 6 }}>{`${\n        task.name\n      }: ${task.start.getDate()}-${\n        task.start.getMonth() + 1\n      }-${task.start.getFullYear()} - ${task.end.getDate()}-${\n        task.end.getMonth() + 1\n      }-${task.end.getFullYear()}`}</b>\n      {task.end.getTime() - task.start.getTime() !== 0 && (\n        <p className={styles.tooltipDefaultContainerParagraph}>{`Duration: ${~~(\n          (task.end.getTime() - task.start.getTime()) /\n          (1000 * 60 * 60 * 24)\n        )} day(s)`}</p>\n      )}\n\n      <p className={styles.tooltipDefaultContainerParagraph}>\n        {!!task.progress && `Progress: ${task.progress} %`}\n      </p>\n    </div>\n  );\n};\n","import React, { SyntheticEvent, useRef, useEffect } from \"react\";\nimport styles from \"./vertical-scroll.module.css\";\n\nexport const VerticalScroll: React.FC<{\n  scroll: number;\n  ganttHeight: number;\n  ganttFullHeight: number;\n  headerHeight: number;\n  rtl: boolean;\n  onScroll: (event: SyntheticEvent<HTMLDivElement>) => void;\n}> = ({\n  scroll,\n  ganttHeight,\n  ganttFullHeight,\n  headerHeight,\n  rtl,\n  onScroll,\n}) => {\n  const scrollRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (scrollRef.current) {\n      scrollRef.current.scrollTop = scroll;\n    }\n  }, [scroll]);\n\n  return (\n    <div\n      style={{\n        height: ganttHeight,\n        marginTop: headerHeight,\n        marginLeft: rtl ? \"\" : \"-1rem\",\n      }}\n      className={styles.scroll}\n      onScroll={onScroll}\n      ref={scrollRef}\n    >\n      <div style={{ height: ganttFullHeight, width: 1 }} />\n    </div>\n  );\n};\n","import React, { useEffect, useRef } from \"react\";\nimport { BarTask } from \"../../types/bar-task\";\nimport { Task } from \"../../types/public-types\";\n\nexport type TaskListProps = {\n  headerHeight: number;\n  rowWidth: string;\n  fontFamily: string;\n  fontSize: string;\n  rowHeight: number;\n  ganttHeight: number;\n  scrollY: number;\n  locale: string;\n  tasks: Task[];\n  taskListRef: React.RefObject<HTMLDivElement>;\n  horizontalContainerClass?: string;\n  selectedTask: BarTask | undefined;\n  setSelectedTask: (task: string) => void;\n  onExpanderClick: (task: Task) => void;\n  TaskListHeader: React.FC<{\n    headerHeight: number;\n    rowWidth: string;\n    fontFamily: string;\n    fontSize: string;\n  }>;\n  TaskListTable: React.FC<{\n    rowHeight: number;\n    rowWidth: string;\n    fontFamily: string;\n    fontSize: string;\n    locale: string;\n    tasks: Task[];\n    selectedTaskId: string;\n    setSelectedTask: (taskId: string) => void;\n    onExpanderClick: (task: Task) => void;\n  }>;\n};\n\nexport const TaskList: React.FC<TaskListProps> = ({\n  headerHeight,\n  fontFamily,\n  fontSize,\n  rowWidth,\n  rowHeight,\n  scrollY,\n  tasks,\n  selectedTask,\n  setSelectedTask,\n  onExpanderClick,\n  locale,\n  ganttHeight,\n  taskListRef,\n  horizontalContainerClass,\n  TaskListHeader,\n  TaskListTable,\n}) => {\n  const horizontalContainerRef = useRef<HTMLDivElement>(null);\n  useEffect(() => {\n    if (horizontalContainerRef.current) {\n      horizontalContainerRef.current.scrollTop = scrollY;\n    }\n  }, [scrollY]);\n\n  const headerProps = {\n    headerHeight,\n    fontFamily,\n    fontSize,\n    rowWidth,\n  };\n  const selectedTaskId = selectedTask ? selectedTask.id : \"\";\n  const tableProps = {\n    rowHeight,\n    rowWidth,\n    fontFamily,\n    fontSize,\n    tasks,\n    locale,\n    selectedTaskId: selectedTaskId,\n    setSelectedTask,\n    onExpanderClick,\n  };\n\n  return (\n    <div ref={taskListRef}>\n      <TaskListHeader {...headerProps} />\n      <div\n        ref={horizontalContainerRef}\n        className={horizontalContainerClass}\n        style={ganttHeight ? { height: ganttHeight } : {}}\n      >\n        <TaskListTable {...tableProps} />\n      </div>\n    </div>\n  );\n};\n","import React, { ReactChild } from \"react\";\nimport { Task } from \"../../types/public-types\";\nimport { addToDate } from \"../../helpers/date-helper\";\nimport styles from \"./grid.module.css\";\n\nexport type GridBodyProps = {\n  tasks: Task[];\n  dates: Date[];\n  svgWidth: number;\n  rowHeight: number;\n  columnWidth: number;\n  todayColor: string;\n  rtl: boolean;\n};\nexport const GridBody: React.FC<GridBodyProps> = ({\n  tasks,\n  dates,\n  rowHeight,\n  svgWidth,\n  columnWidth,\n  todayColor,\n  rtl,\n}) => {\n  let y = 0;\n  const gridRows: ReactChild[] = [];\n  const rowLines: ReactChild[] = [\n    <line\n      key=\"RowLineFirst\"\n      x=\"0\"\n      y1={0}\n      x2={svgWidth}\n      y2={0}\n      className={styles.gridRowLine}\n    />,\n  ];\n  for (const task of tasks) {\n    gridRows.push(\n      <rect\n        key={\"Row\" + task.id}\n        x=\"0\"\n        y={y}\n        width={svgWidth}\n        height={rowHeight}\n        className={styles.gridRow}\n      />\n    );\n    rowLines.push(\n      <line\n        key={\"RowLine\" + task.id}\n        x=\"0\"\n        y1={y + rowHeight}\n        x2={svgWidth}\n        y2={y + rowHeight}\n        className={styles.gridRowLine}\n      />\n    );\n    y += rowHeight;\n  }\n\n  const now = new Date();\n  let tickX = 0;\n  const ticks: ReactChild[] = [];\n  let today: ReactChild = <rect />;\n  for (let i = 0; i < dates.length; i++) {\n    const date = dates[i];\n    ticks.push(\n      <line\n        key={date.getTime()}\n        x1={tickX}\n        y1={0}\n        x2={tickX}\n        y2={y}\n        className={styles.gridTick}\n      />\n    );\n    if (\n      (i + 1 !== dates.length &&\n        date.getTime() < now.getTime() &&\n        dates[i + 1].getTime() >= now.getTime()) ||\n      // if current date is last\n      (i !== 0 &&\n        i + 1 === dates.length &&\n        date.getTime() < now.getTime() &&\n        addToDate(\n          date,\n          date.getTime() - dates[i - 1].getTime(),\n          \"millisecond\"\n        ).getTime() >= now.getTime())\n    ) {\n      today = (\n        <rect\n          x={tickX}\n          y={0}\n          width={columnWidth}\n          height={y}\n          fill={todayColor}\n        />\n      );\n    }\n    // rtl for today\n    if (\n      rtl &&\n      i + 1 !== dates.length &&\n      date.getTime() >= now.getTime() &&\n      dates[i + 1].getTime() < now.getTime()\n    ) {\n      today = (\n        <rect\n          x={tickX + columnWidth}\n          y={0}\n          width={columnWidth}\n          height={y}\n          fill={todayColor}\n        />\n      );\n    }\n    tickX += columnWidth;\n  }\n  return (\n    <g className=\"gridBody\">\n      <g className=\"rows\">{gridRows}</g>\n      <g className=\"rowLines\">{rowLines}</g>\n      <g className=\"ticks\">{ticks}</g>\n      <g className=\"today\">{today}</g>\n    </g>\n  );\n};\n","import React from \"react\";\nimport { GridBody, GridBodyProps } from \"./grid-body\";\n\nexport type GridProps = GridBodyProps;\nexport const Grid: React.FC<GridProps> = props => {\n  return (\n    <g className=\"grid\">\n      <GridBody {...props} />\n    </g>\n  );\n};\n","import React from \"react\";\nimport styles from \"./calendar.module.css\";\n\ntype TopPartOfCalendarProps = {\n  value: string;\n  x1Line: number;\n  y1Line: number;\n  y2Line: number;\n  xText: number;\n  yText: number;\n};\n\nexport const TopPartOfCalendar: React.FC<TopPartOfCalendarProps> = ({\n  value,\n  x1Line,\n  y1Line,\n  y2Line,\n  xText,\n  yText,\n}) => {\n  return (\n    <g className=\"calendarTop\">\n      <line\n        x1={x1Line}\n        y1={y1Line}\n        x2={x1Line}\n        y2={y2Line}\n        className={styles.calendarTopTick}\n        key={value + \"line\"}\n      />\n      <text\n        key={value + \"text\"}\n        y={yText}\n        x={xText}\n        className={styles.calendarTopText}\n      >\n        {value}\n      </text>\n    </g>\n  );\n};\n","import React, { ReactChild } from \"react\";\nimport { ViewMode } from \"../../types/public-types\";\nimport { TopPartOfCalendar } from \"./top-part-of-calendar\";\nimport {\n  getCachedDateTimeFormat,\n  getDaysInMonth,\n  getLocalDayOfWeek,\n  getLocaleMonth,\n  getWeekNumberISO8601,\n} from \"../../helpers/date-helper\";\nimport { DateSetup } from \"../../types/date-setup\";\nimport styles from \"./calendar.module.css\";\n\nexport type CalendarProps = {\n  dateSetup: DateSetup;\n  locale: string;\n  viewMode: ViewMode;\n  rtl: boolean;\n  headerHeight: number;\n  columnWidth: number;\n  fontFamily: string;\n  fontSize: string;\n};\n\nexport const Calendar: React.FC<CalendarProps> = ({\n  dateSetup,\n  locale,\n  viewMode,\n  rtl,\n  headerHeight,\n  columnWidth,\n  fontFamily,\n  fontSize,\n}) => {\n  const getCalendarValuesForYear = () => {\n    const topValues: ReactChild[] = [];\n    const bottomValues: ReactChild[] = [];\n    const topDefaultHeight = headerHeight * 0.5;\n    for (let i = 0; i < dateSetup.dates.length; i++) {\n      const date = dateSetup.dates[i];\n      const bottomValue = date.getFullYear();\n      bottomValues.push(\n        <text\n          key={date.getFullYear()}\n          y={headerHeight * 0.8}\n          x={columnWidth * i + columnWidth * 0.5}\n          className={styles.calendarBottomText}\n        >\n          {bottomValue}\n        </text>\n      );\n      if (\n        i === 0 ||\n        date.getFullYear() !== dateSetup.dates[i - 1].getFullYear()\n      ) {\n        const topValue = date.getFullYear().toString();\n        let xText: number;\n        if (rtl) {\n          xText = (6 + i + date.getFullYear() + 1) * columnWidth;\n        } else {\n          xText = (6 + i - date.getFullYear()) * columnWidth;\n        }\n        topValues.push(\n          <TopPartOfCalendar\n            key={topValue}\n            value={topValue}\n            x1Line={columnWidth * i}\n            y1Line={0}\n            y2Line={headerHeight}\n            xText={xText}\n            yText={topDefaultHeight * 0.9}\n          />\n        );\n      }\n    }\n    return [topValues, bottomValues];\n  };\n\n  const getCalendarValuesForMonth = () => {\n    const topValues: ReactChild[] = [];\n    const bottomValues: ReactChild[] = [];\n    const topDefaultHeight = headerHeight * 0.5;\n    for (let i = 0; i < dateSetup.dates.length; i++) {\n      const date = dateSetup.dates[i];\n      const bottomValue = getLocaleMonth(date, locale);\n      bottomValues.push(\n        <text\n          key={bottomValue + date.getFullYear()}\n          y={headerHeight * 0.8}\n          x={columnWidth * i + columnWidth * 0.5}\n          className={styles.calendarBottomText}\n        >\n          {bottomValue}\n        </text>\n      );\n      if (\n        i === 0 ||\n        date.getFullYear() !== dateSetup.dates[i - 1].getFullYear()\n      ) {\n        const topValue = date.getFullYear().toString();\n        let xText: number;\n        if (rtl) {\n          xText = (6 + i + date.getMonth() + 1) * columnWidth;\n        } else {\n          xText = (6 + i - date.getMonth()) * columnWidth;\n        }\n        topValues.push(\n          <TopPartOfCalendar\n            key={topValue}\n            value={topValue}\n            x1Line={columnWidth * i}\n            y1Line={0}\n            y2Line={topDefaultHeight}\n            xText={xText}\n            yText={topDefaultHeight * 0.9}\n          />\n        );\n      }\n    }\n    return [topValues, bottomValues];\n  };\n\n  const getCalendarValuesForWeek = () => {\n    const topValues: ReactChild[] = [];\n    const bottomValues: ReactChild[] = [];\n    let weeksCount: number = 1;\n    const topDefaultHeight = headerHeight * 0.5;\n    const dates = dateSetup.dates;\n    for (let i = dates.length - 1; i >= 0; i--) {\n      const date = dates[i];\n      let topValue = \"\";\n      if (i === 0 || date.getMonth() !== dates[i - 1].getMonth()) {\n        // top\n        topValue = `${getLocaleMonth(date, locale)}, ${date.getFullYear()}`;\n      }\n      // bottom\n      const bottomValue = `W${getWeekNumberISO8601(date)}`;\n\n      bottomValues.push(\n        <text\n          key={date.getTime()}\n          y={headerHeight * 0.8}\n          x={columnWidth * (i + +rtl)}\n          className={styles.calendarBottomText}\n        >\n          {bottomValue}\n        </text>\n      );\n\n      if (topValue) {\n        // if last day is new month\n        if (i !== dates.length - 1) {\n          topValues.push(\n            <TopPartOfCalendar\n              key={topValue}\n              value={topValue}\n              x1Line={columnWidth * i + weeksCount * columnWidth}\n              y1Line={0}\n              y2Line={topDefaultHeight}\n              xText={columnWidth * i + columnWidth * weeksCount * 0.5}\n              yText={topDefaultHeight * 0.9}\n            />\n          );\n        }\n        weeksCount = 0;\n      }\n      weeksCount++;\n    }\n    return [topValues, bottomValues];\n  };\n\n  const getCalendarValuesForDay = () => {\n    const topValues: ReactChild[] = [];\n    const bottomValues: ReactChild[] = [];\n    const topDefaultHeight = headerHeight * 0.5;\n    const dates = dateSetup.dates;\n    for (let i = 0; i < dates.length; i++) {\n      const date = dates[i];\n      const bottomValue = `${getLocalDayOfWeek(date, locale, \"short\")}, ${date\n        .getDate()\n        .toString()}`;\n\n      bottomValues.push(\n        <text\n          key={date.getTime()}\n          y={headerHeight * 0.8}\n          x={columnWidth * i + columnWidth * 0.5}\n          className={styles.calendarBottomText}\n        >\n          {bottomValue}\n        </text>\n      );\n      if (\n        i + 1 !== dates.length &&\n        date.getMonth() !== dates[i + 1].getMonth()\n      ) {\n        const topValue = getLocaleMonth(date, locale);\n\n        topValues.push(\n          <TopPartOfCalendar\n            key={topValue + date.getFullYear()}\n            value={topValue}\n            x1Line={columnWidth * (i + 1)}\n            y1Line={0}\n            y2Line={topDefaultHeight}\n            xText={\n              columnWidth * (i + 1) -\n              getDaysInMonth(date.getMonth(), date.getFullYear()) *\n                columnWidth *\n                0.5\n            }\n            yText={topDefaultHeight * 0.9}\n          />\n        );\n      }\n    }\n    return [topValues, bottomValues];\n  };\n\n  const getCalendarValuesForPartOfDay = () => {\n    const topValues: ReactChild[] = [];\n    const bottomValues: ReactChild[] = [];\n    const ticks = viewMode === ViewMode.HalfDay ? 2 : 4;\n    const topDefaultHeight = headerHeight * 0.5;\n    const dates = dateSetup.dates;\n    for (let i = 0; i < dates.length; i++) {\n      const date = dates[i];\n      const bottomValue = getCachedDateTimeFormat(locale, {\n        hour: \"numeric\",\n      }).format(date);\n\n      bottomValues.push(\n        <text\n          key={date.getTime()}\n          y={headerHeight * 0.8}\n          x={columnWidth * (i + +rtl)}\n          className={styles.calendarBottomText}\n          fontFamily={fontFamily}\n        >\n          {bottomValue}\n        </text>\n      );\n      if (i === 0 || date.getDate() !== dates[i - 1].getDate()) {\n        const topValue = `${getLocalDayOfWeek(\n          date,\n          locale,\n          \"short\"\n        )}, ${date.getDate()} ${getLocaleMonth(date, locale)}`;\n        topValues.push(\n          <TopPartOfCalendar\n            key={topValue + date.getFullYear()}\n            value={topValue}\n            x1Line={columnWidth * i + ticks * columnWidth}\n            y1Line={0}\n            y2Line={topDefaultHeight}\n            xText={columnWidth * i + ticks * columnWidth * 0.5}\n            yText={topDefaultHeight * 0.9}\n          />\n        );\n      }\n    }\n\n    return [topValues, bottomValues];\n  };\n\n  const getCalendarValuesForHour = () => {\n    const topValues: ReactChild[] = [];\n    const bottomValues: ReactChild[] = [];\n    const topDefaultHeight = headerHeight * 0.5;\n    const dates = dateSetup.dates;\n    for (let i = 0; i < dates.length; i++) {\n      const date = dates[i];\n      const bottomValue = getCachedDateTimeFormat(locale, {\n        hour: \"numeric\",\n      }).format(date);\n\n      bottomValues.push(\n        <text\n          key={date.getTime()}\n          y={headerHeight * 0.8}\n          x={columnWidth * (i + +rtl)}\n          className={styles.calendarBottomText}\n          fontFamily={fontFamily}\n        >\n          {bottomValue}\n        </text>\n      );\n      if (i !== 0 && date.getDate() !== dates[i - 1].getDate()) {\n        const displayDate = dates[i - 1];\n        const topValue = `${getLocalDayOfWeek(\n          displayDate,\n          locale,\n          \"long\"\n        )}, ${displayDate.getDate()} ${getLocaleMonth(displayDate, locale)}`;\n        const topPosition = (date.getHours() - 24) / 2;\n        topValues.push(\n          <TopPartOfCalendar\n            key={topValue + displayDate.getFullYear()}\n            value={topValue}\n            x1Line={columnWidth * i}\n            y1Line={0}\n            y2Line={topDefaultHeight}\n            xText={columnWidth * (i + topPosition)}\n            yText={topDefaultHeight * 0.9}\n          />\n        );\n      }\n    }\n\n    return [topValues, bottomValues];\n  };\n\n  let topValues: ReactChild[] = [];\n  let bottomValues: ReactChild[] = [];\n  switch (dateSetup.viewMode) {\n    case ViewMode.Year:\n      [topValues, bottomValues] = getCalendarValuesForYear();\n      break;\n    case ViewMode.Month:\n        [topValues, bottomValues] = getCalendarValuesForMonth();\n        break;\n      case ViewMode.Week:\n      [topValues, bottomValues] = getCalendarValuesForWeek();\n      break;\n    case ViewMode.Day:\n      [topValues, bottomValues] = getCalendarValuesForDay();\n      break;\n    case ViewMode.QuarterDay:\n    case ViewMode.HalfDay:\n      [topValues, bottomValues] = getCalendarValuesForPartOfDay();\n      break;\n    case ViewMode.Hour:\n      [topValues, bottomValues] = getCalendarValuesForHour();\n  }\n  return (\n    <g className=\"calendar\" fontSize={fontSize} fontFamily={fontFamily}>\n      <rect\n        x={0}\n        y={0}\n        width={columnWidth * dateSetup.dates.length}\n        height={headerHeight}\n        className={styles.calendarHeader}\n      />\n      {bottomValues} {topValues}\n    </g>\n  );\n};\n","// A type of promise-like that resolves synchronously and supports only one observer\nexport const _Pact = /*#__PURE__*/(function() {\n\tfunction _Pact() {}\n\t_Pact.prototype.then = function(onFulfilled, onRejected) {\n\t\tconst result = new _Pact();\n\t\tconst state = this.s;\n\t\tif (state) {\n\t\t\tconst callback = state & 1 ? onFulfilled : onRejected;\n\t\t\tif (callback) {\n\t\t\t\ttry {\n\t\t\t\t\t_settle(result, 1, callback(this.v));\n\t\t\t\t} catch (e) {\n\t\t\t\t\t_settle(result, 2, e);\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t} else {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t}\n\t\tthis.o = function(_this) {\n\t\t\ttry {\n\t\t\t\tconst value = _this.v;\n\t\t\t\tif (_this.s & 1) {\n\t\t\t\t\t_settle(result, 1, onFulfilled ? onFulfilled(value) : value);\n\t\t\t\t} else if (onRejected) {\n\t\t\t\t\t_settle(result, 1, onRejected(value));\n\t\t\t\t} else {\n\t\t\t\t\t_settle(result, 2, value);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t_settle(result, 2, e);\n\t\t\t}\n\t\t};\n\t\treturn result;\n\t}\n\treturn _Pact;\n})();\n\n// Settles a pact synchronously\nexport function _settle(pact, state, value) {\n\tif (!pact.s) {\n\t\tif (value instanceof _Pact) {\n\t\t\tif (value.s) {\n\t\t\t\tif (state & 1) {\n\t\t\t\t\tstate = value.s;\n\t\t\t\t}\n\t\t\t\tvalue = value.v;\n\t\t\t} else {\n\t\t\t\tvalue.o = _settle.bind(null, pact, state);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tif (value && value.then) {\n\t\t\tvalue.then(_settle.bind(null, pact, state), _settle.bind(null, pact, 2));\n\t\t\treturn;\n\t\t}\n\t\tpact.s = state;\n\t\tpact.v = value;\n\t\tconst observer = pact.o;\n\t\tif (observer) {\n\t\t\tobserver(pact);\n\t\t}\n\t}\n}\n\nexport function _isSettledPact(thenable) {\n\treturn thenable instanceof _Pact && thenable.s & 1;\n}\n\n// Converts argument to a function that always returns a Promise\nexport function _async(f) {\n\treturn function() {\n\t\tfor (var args = [], i = 0; i < arguments.length; i++) {\n\t\t\targs[i] = arguments[i];\n\t\t}\n\t\ttry {\n\t\t\treturn Promise.resolve(f.apply(this, args));\n\t\t} catch(e) {\n\t\t\treturn Promise.reject(e);\n\t\t}\n\t}\n}\n\n// Awaits on a value that may or may not be a Promise (equivalent to the await keyword in ES2015, with continuations passed explicitly)\nexport function _await(value, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(value) : value;\n\t}\n\tif (!value || !value.then) {\n\t\tvalue = Promise.resolve(value);\n\t}\n\treturn then ? value.then(then) : value;\n}\n\n// Awaits on a value that may or may not be a Promise, then ignores it\nexport function _awaitIgnored(value, direct) {\n\tif (!direct) {\n\t\treturn value && value.then ? value.then(_empty) : Promise.resolve();\n\t}\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continue(value, then) {\n\treturn value && value.then ? value.then(then) : then(value);\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continueIgnored(value) {\n\tif (value && value.then) {\n\t\treturn value.then(_empty);\n\t}\n}\n\n// Asynchronously iterate through an object that has a length property, passing the index as the first argument to the callback (even as the length property changes)\nexport function _forTo(array, body, check) {\n\tvar i = -1, pact, reject;\n\tfunction _cycle(result) {\n\t\ttry {\n\t\t\twhile (++i < array.length && (!check || !check())) {\n\t\t\t\tresult = body(i);\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (pact) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t} else {\n\t\t\t\tpact = result;\n\t\t\t}\n\t\t} catch (e) {\n\t\t\t_settle(pact || (pact = new _Pact()), 2, e);\n\t\t}\n\t}\n\t_cycle();\n\treturn pact;\n}\n\n// Asynchronously iterate through an object's properties (including properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forIn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tkeys.push(key);\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\n// Asynchronously iterate through an object's own properties (excluding properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forOwn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tif (Object.prototype.hasOwnProperty.call(target, key)) {\n\t\t\tkeys.push(key);\n\t\t}\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\nexport const _iteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.iterator || (Symbol.iterator = Symbol(\"Symbol.iterator\"))) : \"@@iterator\";\n\n// Asynchronously iterate through an object's values\n// Uses for...of if the runtime supports it, otherwise iterates until length on a copy\nexport function _forOf(target, body, check) {\n\tif (typeof target[_iteratorSymbol] === \"function\") {\n\t\tvar iterator = target[_iteratorSymbol](), step, pact, reject;\n\t\tfunction _cycle(result) {\n\t\t\ttry {\n\t\t\t\twhile (!(step = iterator.next()).done && (!check || !check())) {\n\t\t\t\t\tresult = body(step.value);\n\t\t\t\t\tif (result && result.then) {\n\t\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (pact) {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t} else {\n\t\t\t\t\tpact = result;\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t_settle(pact || (pact = new _Pact()), 2, e);\n\t\t\t}\n\t\t}\n\t\t_cycle();\n\t\tif (iterator.return) {\n\t\t\tvar _fixup = function(value) {\n\t\t\t\ttry {\n\t\t\t\t\tif (!step.done) {\n\t\t\t\t\t\titerator.return();\n\t\t\t\t\t}\n\t\t\t\t} catch(e) {\n\t\t\t\t}\n\t\t\t\treturn value;\n\t\t\t}\n\t\t\tif (pact && pact.then) {\n\t\t\t\treturn pact.then(_fixup, function(e) {\n\t\t\t\t\tthrow _fixup(e);\n\t\t\t\t});\n\t\t\t}\n\t\t\t_fixup();\n\t\t}\n\t\treturn pact;\n\t}\n\t// No support for Symbol.iterator\n\tif (!(\"length\" in target)) {\n\t\tthrow new TypeError(\"Object is not iterable\");\n\t}\n\t// Handle live collections properly\n\tvar values = [];\n\tfor (var i = 0; i < target.length; i++) {\n\t\tvalues.push(target[i]);\n\t}\n\treturn _forTo(values, function(i) { return body(values[i]); }, check);\n}\n\nexport const _asyncIteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.asyncIterator || (Symbol.asyncIterator = Symbol(\"Symbol.asyncIterator\"))) : \"@@asyncIterator\";\n\n// Asynchronously iterate on a value using it's async iterator if present, or its synchronous iterator if missing\nexport function _forAwaitOf(target, body, check) {\n\tif (typeof target[_asyncIteratorSymbol] === \"function\") {\n\t\tvar pact = new _Pact();\n\t\tvar iterator = target[_asyncIteratorSymbol]();\n\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\treturn pact;\n\t\tfunction _resumeAfterBody(result) {\n\t\t\tif (check && check()) {\n\t\t\t\treturn _settle(pact, 1, iterator.return ? iterator.return().then(function() { return result; }) : result);\n\t\t\t}\n\t\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\t}\n\t\tfunction _resumeAfterNext(step) {\n\t\t\tif (step.done) {\n\t\t\t\t_settle(pact, 1);\n\t\t\t} else {\n\t\t\t\tPromise.resolve(body(step.value)).then(_resumeAfterBody).then(void 0, _reject);\n\t\t\t}\n\t\t}\n\t\tfunction _reject(error) {\n\t\t\t_settle(pact, 2, iterator.return ? iterator.return().then(function() { return error; }) : error);\n\t\t}\n\t}\n\treturn Promise.resolve(_forOf(target, function(value) { return Promise.resolve(value).then(body); }, check));\n}\n\n// Asynchronously implement a generic for loop\nexport function _for(test, update, body) {\n\tvar stage;\n\tfor (;;) {\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t\tif (shouldContinue.then) {\n\t\t\tstage = 0;\n\t\t\tbreak;\n\t\t}\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.s;\n\t\t\t} else {\n\t\t\t\tstage = 1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (update) {\n\t\t\tvar updateValue = update();\n\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\tstage = 2;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\tvar pact = new _Pact();\n\tvar reject = _settle.bind(null, pact, 2);\n\t(stage === 0 ? shouldContinue.then(_resumeAfterTest) : stage === 1 ? result.then(_resumeAfterBody) : updateValue.then(_resumeAfterUpdate)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tdo {\n\t\t\tif (update) {\n\t\t\t\tupdateValue = update();\n\t\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\t\tupdateValue.then(_resumeAfterUpdate).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tshouldContinue = test();\n\t\t\tif (!shouldContinue || (_isSettledPact(shouldContinue) && !shouldContinue.v)) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t}\n\t\t} while (!result || !result.then);\n\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterBody(result);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n\tfunction _resumeAfterUpdate() {\n\t\tif (shouldContinue = test()) {\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterTest(shouldContinue);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a do ... while loop\nexport function _do(body, test) {\n\tvar awaitBody;\n\tdo {\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t} else {\n\t\t\t\tawaitBody = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t} while (!shouldContinue.then);\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : shouldContinue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tfor (;;) {\n\t\t\tshouldContinue = test();\n\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t}\n\t\t\tif (!shouldContinue) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\tresult = result.v;\n\t\t\t\t} else {\n\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tdo {\n\t\t\t\tresult = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tshouldContinue = test();\n\t\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t\t}\n\t\t\t\tif (!shouldContinue) {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} while (!shouldContinue.then);\n\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a switch statement\nexport function _switch(discriminant, cases) {\n\tvar dispatchIndex = -1;\n\tvar awaitBody;\n\touter: {\n\t\tfor (var i = 0; i < cases.length; i++) {\n\t\t\tvar test = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvar testValue = test();\n\t\t\t\tif (testValue && testValue.then) {\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tif (testValue === discriminant) {\n\t\t\t\t\tdispatchIndex = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Found the default case, set it as the pending dispatch case\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tif (dispatchIndex !== -1) {\n\t\t\tdo {\n\t\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\t\twhile (!body) {\n\t\t\t\t\tdispatchIndex++;\n\t\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t\t}\n\t\t\t\tvar result = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tawaitBody = true;\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\t\tdispatchIndex++;\n\t\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t\treturn result;\n\t\t}\n\t}\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : testValue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterTest(value) {\n\t\tfor (;;) {\n\t\t\tif (value === discriminant) {\n\t\t\t\tdispatchIndex = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (++i === cases.length) {\n\t\t\t\tif (dispatchIndex !== -1) {\n\t\t\t\t\tbreak;\n\t\t\t\t} else {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\ttest = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvalue = test();\n\t\t\t\tif (value && value.then) {\n\t\t\t\t\tvalue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tdo {\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tvar result = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tdispatchIndex++;\n\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterBody(result) {\n\t\tfor (;;) {\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tif (!fallthroughCheck || fallthroughCheck()) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdispatchIndex++;\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _call(body, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(body()) : body();\n\t}\n\ttry {\n\t\tvar result = Promise.resolve(body());\n\t\treturn then ? result.then(then) : result;\n\t} catch (e) {\n\t\treturn Promise.reject(e);\n\t}\n}\n\n// Asynchronously call a function and swallow the result\nexport function _callIgnored(body, direct) {\n\treturn _call(body, _empty, direct);\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _invoke(body, then) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(then);\n\t}\n\treturn then(result);\n}\n\n// Asynchronously call a function and swallow the result\nexport function _invokeIgnored(body) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(_empty);\n\t}\n}\n\n// Asynchronously call a function and send errors to recovery continuation\nexport function _catch(body, recover) {\n\ttry {\n\t\tvar result = body();\n\t} catch(e) {\n\t\treturn recover(e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(void 0, recover);\n\t}\n\treturn result;\n}\n\n// Asynchronously await a promise and pass the result to a finally continuation\nexport function _finallyRethrows(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer(true, e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer.bind(null, false), finalizer.bind(null, true));\n\t}\n\treturn finalizer(false, result);\n}\n\n// Asynchronously await a promise and invoke a finally continuation that always overrides the result\nexport function _finally(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer();\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer, finalizer);\n\t}\n\treturn finalizer();\n}\n\n// Rethrow or return a value from a finally continuation\nexport function _rethrow(thrown, value) {\n\tif (thrown)\n\t\tthrow value;\n\treturn value;\n}\n\n// Empty function to implement break and other control flow that ignores asynchronous results\nexport function _empty() {\n}\n\n// Sentinel value for early returns in generators \nexport const _earlyReturn = /*#__PURE__*/ {};\n\n// Asynchronously call a function and send errors to recovery continuation, skipping early returns\nexport function _catchInGenerator(body, recover) {\n\treturn _catch(body, function(e) {\n\t\tif (e === _earlyReturn) {\n\t\t\tthrow e;\n\t\t}\n\t\treturn recover(e);\n\t});\n}\n\n// Asynchronous generator class; accepts the entrypoint of the generator, to which it passes itself when the generator should start\nexport const _AsyncGenerator = /*#__PURE__*/(function() {\n\tfunction _AsyncGenerator(entry) {\n\t\tthis._entry = entry;\n\t\tthis._pact = null;\n\t\tthis._resolve = null;\n\t\tthis._return = null;\n\t\tthis._promise = null;\n\t}\n\n\tfunction _wrapReturnedValue(value) {\n\t\treturn { value: value, done: true };\n\t}\n\tfunction _wrapYieldedValue(value) {\n\t\treturn { value: value, done: false };\n\t}\n\n\t_AsyncGenerator.prototype._yield = function(value) {\n\t\t// Yield the value to the pending next call\n\t\tthis._resolve(value && value.then ? value.then(_wrapYieldedValue) : _wrapYieldedValue(value));\n\t\t// Return a pact for an upcoming next/return/throw call\n\t\treturn this._pact = new _Pact();\n\t};\n\t_AsyncGenerator.prototype.next = function(value) {\n\t\t// Advance the generator, starting it if it has yet to be started\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tconst _entry = _this._entry;\n\t\t\t\tif (_entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the next call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Start the generator\n\t\t\t\t_this._entry = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\tfunction returnValue(value) {\n\t\t\t\t\t_this._resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t_this._resolve = null;\n\t\t\t\t}\n\t\t\t\tvar result = _entry(_this);\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tresult.then(returnValue, function(error) {\n\t\t\t\t\t\tif (error === _earlyReturn) {\n\t\t\t\t\t\t\treturnValue(_this._return);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconst pact = new _Pact();\n\t\t\t\t\t\t\t_this._resolve(pact);\n\t\t\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t\t\t_this._resolve = null;\n\t\t\t\t\t\t\t_resolve(pact, 2, error);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\treturnValue(result);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Generator is started and a yield expression is pending, settle it\n\t\t\t\t_this._pact = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\t_settle(_pact, 1, value);\n\t\t\t}\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.return = function(value) {\n\t\t// Early return from the generator if started, otherwise abandons the generator\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the return call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return the specified value\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t}\n\t\t\t// Settle the yield expression with a rejected \"early return\" value\n\t\t\t_this._return = value;\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, _earlyReturn);\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.throw = function(error) {\n\t\t// Inject an exception into the pending yield expression\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve, reject) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the throw call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return a rejected Promise containing the error\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn reject(error);\n\t\t\t}\n\t\t\t// Settle the yield expression with the value as a rejection\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, error);\n\t\t});\n\t};\n\n\t_AsyncGenerator.prototype[_asyncIteratorSymbol] = function() {\n\t\treturn this;\n\t};\n\t\n\treturn _AsyncGenerator;\n})();\n","import React from \"react\";\nimport { BarTask } from \"../../types/bar-task\";\n\ntype ArrowProps = {\n  taskFrom: BarTask;\n  taskTo: BarTask;\n  rowHeight: number;\n  taskHeight: number;\n  arrowIndent: number;\n  rtl: boolean;\n};\nexport const Arrow: React.FC<ArrowProps> = ({\n  taskFrom,\n  taskTo,\n  rowHeight,\n  taskHeight,\n  arrowIndent,\n  rtl,\n}) => {\n  let path: string;\n  let trianglePoints: string;\n  if (rtl) {\n    [path, trianglePoints] = drownPathAndTriangleRTL(\n      taskFrom,\n      taskTo,\n      rowHeight,\n      taskHeight,\n      arrowIndent\n    );\n  } else {\n    [path, trianglePoints] = drownPathAndTriangle(\n      taskFrom,\n      taskTo,\n      rowHeight,\n      taskHeight,\n      arrowIndent\n    );\n  }\n\n  return (\n    <g className=\"arrow\">\n      <path strokeWidth=\"1.5\" d={path} fill=\"none\" />\n      <polygon points={trianglePoints} />\n    </g>\n  );\n};\n\nconst drownPathAndTriangle = (\n  taskFrom: BarTask,\n  taskTo: BarTask,\n  rowHeight: number,\n  taskHeight: number,\n  arrowIndent: number\n) => {\n  const indexCompare = taskFrom.index > taskTo.index ? -1 : 1;\n  const taskToEndPosition = taskTo.y + taskHeight / 2;\n  const taskFromEndPosition = taskFrom.x2 + arrowIndent * 2;\n  const taskFromHorizontalOffsetValue =\n    taskFromEndPosition < taskTo.x1 ? \"\" : `H ${taskTo.x1 - arrowIndent}`;\n  const taskToHorizontalOffsetValue =\n    taskFromEndPosition > taskTo.x1\n      ? arrowIndent\n      : taskTo.x1 - taskFrom.x2 - arrowIndent;\n\n  const path = `M ${taskFrom.x2} ${taskFrom.y + taskHeight / 2} \n  h ${arrowIndent} \n  v ${(indexCompare * rowHeight) / 2} \n  ${taskFromHorizontalOffsetValue}\n  V ${taskToEndPosition} \n  h ${taskToHorizontalOffsetValue}`;\n\n  const trianglePoints = `${taskTo.x1},${taskToEndPosition} \n  ${taskTo.x1 - 5},${taskToEndPosition - 5} \n  ${taskTo.x1 - 5},${taskToEndPosition + 5}`;\n  return [path, trianglePoints];\n};\n\nconst drownPathAndTriangleRTL = (\n  taskFrom: BarTask,\n  taskTo: BarTask,\n  rowHeight: number,\n  taskHeight: number,\n  arrowIndent: number\n) => {\n  const indexCompare = taskFrom.index > taskTo.index ? -1 : 1;\n  const taskToEndPosition = taskTo.y + taskHeight / 2;\n  const taskFromEndPosition = taskFrom.x1 - arrowIndent * 2;\n  const taskFromHorizontalOffsetValue =\n    taskFromEndPosition > taskTo.x2 ? \"\" : `H ${taskTo.x2 + arrowIndent}`;\n  const taskToHorizontalOffsetValue =\n    taskFromEndPosition < taskTo.x2\n      ? -arrowIndent\n      : taskTo.x2 - taskFrom.x1 + arrowIndent;\n\n  const path = `M ${taskFrom.x1} ${taskFrom.y + taskHeight / 2} \n  h ${-arrowIndent} \n  v ${(indexCompare * rowHeight) / 2} \n  ${taskFromHorizontalOffsetValue}\n  V ${taskToEndPosition} \n  h ${taskToHorizontalOffsetValue}`;\n\n  const trianglePoints = `${taskTo.x2},${taskToEndPosition} \n  ${taskTo.x2 + 5},${taskToEndPosition + 5} \n  ${taskTo.x2 + 5},${taskToEndPosition - 5}`;\n  return [path, trianglePoints];\n};\n","import { Task } from \"../types/public-types\";\nimport { BarTask, TaskTypeInternal } from \"../types/bar-task\";\nimport { BarMoveAction } from \"../types/gantt-task-actions\";\n\nexport const convertToBarTasks = (\n  tasks: Task[],\n  dates: Date[],\n  columnWidth: number,\n  rowHeight: number,\n  taskHeight: number,\n  barCornerRadius: number,\n  handleWidth: number,\n  rtl: boolean,\n  barProgressColor: string,\n  barProgressSelectedColor: string,\n  barBackgroundColor: string,\n  barBackgroundSelectedColor: string,\n  projectProgressColor: string,\n  projectProgressSelectedColor: string,\n  projectBackgroundColor: string,\n  projectBackgroundSelectedColor: string,\n  milestoneBackgroundColor: string,\n  milestoneBackgroundSelectedColor: string\n) => {\n  let barTasks = tasks.map((t, i) => {\n    return convertToBarTask(\n      t,\n      i,\n      dates,\n      columnWidth,\n      rowHeight,\n      taskHeight,\n      barCornerRadius,\n      handleWidth,\n      rtl,\n      barProgressColor,\n      barProgressSelectedColor,\n      barBackgroundColor,\n      barBackgroundSelectedColor,\n      projectProgressColor,\n      projectProgressSelectedColor,\n      projectBackgroundColor,\n      projectBackgroundSelectedColor,\n      milestoneBackgroundColor,\n      milestoneBackgroundSelectedColor\n    );\n  });\n\n  // set dependencies\n  barTasks = barTasks.map(task => {\n    const dependencies = task.dependencies || [];\n    for (let j = 0; j < dependencies.length; j++) {\n      const dependence = barTasks.findIndex(\n        value => value.id === dependencies[j]\n      );\n      if (dependence !== -1) barTasks[dependence].barChildren.push(task);\n    }\n    return task;\n  });\n\n  return barTasks;\n};\n\nconst convertToBarTask = (\n  task: Task,\n  index: number,\n  dates: Date[],\n  columnWidth: number,\n  rowHeight: number,\n  taskHeight: number,\n  barCornerRadius: number,\n  handleWidth: number,\n  rtl: boolean,\n  barProgressColor: string,\n  barProgressSelectedColor: string,\n  barBackgroundColor: string,\n  barBackgroundSelectedColor: string,\n  projectProgressColor: string,\n  projectProgressSelectedColor: string,\n  projectBackgroundColor: string,\n  projectBackgroundSelectedColor: string,\n  milestoneBackgroundColor: string,\n  milestoneBackgroundSelectedColor: string\n): BarTask => {\n  let barTask: BarTask;\n  switch (task.type) {\n    case \"milestone\":\n      barTask = convertToMilestone(\n        task,\n        index,\n        dates,\n        columnWidth,\n        rowHeight,\n        taskHeight,\n        barCornerRadius,\n        handleWidth,\n        milestoneBackgroundColor,\n        milestoneBackgroundSelectedColor\n      );\n      break;\n    case \"project\":\n      barTask = convertToBar(\n        task,\n        index,\n        dates,\n        columnWidth,\n        rowHeight,\n        taskHeight,\n        barCornerRadius,\n        handleWidth,\n        rtl,\n        projectProgressColor,\n        projectProgressSelectedColor,\n        projectBackgroundColor,\n        projectBackgroundSelectedColor\n      );\n      break;\n    default:\n      barTask = convertToBar(\n        task,\n        index,\n        dates,\n        columnWidth,\n        rowHeight,\n        taskHeight,\n        barCornerRadius,\n        handleWidth,\n        rtl,\n        barProgressColor,\n        barProgressSelectedColor,\n        barBackgroundColor,\n        barBackgroundSelectedColor\n      );\n      break;\n  }\n  return barTask;\n};\n\nconst convertToBar = (\n  task: Task,\n  index: number,\n  dates: Date[],\n  columnWidth: number,\n  rowHeight: number,\n  taskHeight: number,\n  barCornerRadius: number,\n  handleWidth: number,\n  rtl: boolean,\n  barProgressColor: string,\n  barProgressSelectedColor: string,\n  barBackgroundColor: string,\n  barBackgroundSelectedColor: string\n): BarTask => {\n  let x1: number;\n  let x2: number;\n  if (rtl) {\n    x2 = taskXCoordinateRTL(task.start, dates, columnWidth);\n    x1 = taskXCoordinateRTL(task.end, dates, columnWidth);\n  } else {\n    x1 = taskXCoordinate(task.start, dates, columnWidth);\n    x2 = taskXCoordinate(task.end, dates, columnWidth);\n  }\n  let typeInternal: TaskTypeInternal = task.type;\n  if (typeInternal === \"task\" && x2 - x1 < handleWidth * 2) {\n    typeInternal = \"smalltask\";\n    x2 = x1 + handleWidth * 2;\n  }\n\n  const [progressWidth, progressX] = progressWithByParams(\n    x1,\n    x2,\n    task.progress,\n    rtl\n  );\n  const y = taskYCoordinate(index, rowHeight, taskHeight);\n  const hideChildren = task.type === \"project\" ? task.hideChildren : undefined;\n\n  const styles = {\n    backgroundColor: barBackgroundColor,\n    backgroundSelectedColor: barBackgroundSelectedColor,\n    progressColor: barProgressColor,\n    progressSelectedColor: barProgressSelectedColor,\n    ...task.styles,\n  };\n  return {\n    ...task,\n    typeInternal,\n    x1,\n    x2,\n    y,\n    index,\n    progressX,\n    progressWidth,\n    barCornerRadius,\n    handleWidth,\n    hideChildren,\n    height: taskHeight,\n    barChildren: [],\n    styles,\n  };\n};\n\nconst convertToMilestone = (\n  task: Task,\n  index: number,\n  dates: Date[],\n  columnWidth: number,\n  rowHeight: number,\n  taskHeight: number,\n  barCornerRadius: number,\n  handleWidth: number,\n  milestoneBackgroundColor: string,\n  milestoneBackgroundSelectedColor: string\n): BarTask => {\n  const x = taskXCoordinate(task.start, dates, columnWidth);\n  const y = taskYCoordinate(index, rowHeight, taskHeight);\n\n  const x1 = x - taskHeight * 0.5;\n  const x2 = x + taskHeight * 0.5;\n\n  const rotatedHeight = taskHeight / 1.414;\n  const styles = {\n    backgroundColor: milestoneBackgroundColor,\n    backgroundSelectedColor: milestoneBackgroundSelectedColor,\n    progressColor: \"\",\n    progressSelectedColor: \"\",\n    ...task.styles,\n  };\n  return {\n    ...task,\n    end: task.start,\n    x1,\n    x2,\n    y,\n    index,\n    progressX: 0,\n    progressWidth: 0,\n    barCornerRadius,\n    handleWidth,\n    typeInternal: task.type,\n    progress: 0,\n    height: rotatedHeight,\n    hideChildren: undefined,\n    barChildren: [],\n    styles,\n  };\n};\n\nconst taskXCoordinate = (xDate: Date, dates: Date[], columnWidth: number) => {\n  const index = dates.findIndex(d => d.getTime() >= xDate.getTime()) - 1;\n\n  const remainderMillis = xDate.getTime() - dates[index].getTime();\n  const percentOfInterval =\n    remainderMillis / (dates[index + 1].getTime() - dates[index].getTime());\n  const x = index * columnWidth + percentOfInterval * columnWidth;\n  return x;\n};\nconst taskXCoordinateRTL = (\n  xDate: Date,\n  dates: Date[],\n  columnWidth: number\n) => {\n  let x = taskXCoordinate(xDate, dates, columnWidth);\n  x += columnWidth;\n  return x;\n};\nconst taskYCoordinate = (\n  index: number,\n  rowHeight: number,\n  taskHeight: number\n) => {\n  const y = index * rowHeight + (rowHeight - taskHeight) / 2;\n  return y;\n};\n\nexport const progressWithByParams = (\n  taskX1: number,\n  taskX2: number,\n  progress: number,\n  rtl: boolean\n) => {\n  const progressWidth = (taskX2 - taskX1) * progress * 0.01;\n  let progressX: number;\n  if (rtl) {\n    progressX = taskX2 - progressWidth;\n  } else {\n    progressX = taskX1;\n  }\n  return [progressWidth, progressX];\n};\n\nexport const progressByProgressWidth = (\n  progressWidth: number,\n  barTask: BarTask\n) => {\n  const barWidth = barTask.x2 - barTask.x1;\n  const progressPercent = Math.round((progressWidth * 100) / barWidth);\n  if (progressPercent >= 100) return 100;\n  else if (progressPercent <= 0) return 0;\n  else return progressPercent;\n};\n\nconst progressByX = (x: number, task: BarTask) => {\n  if (x >= task.x2) return 100;\n  else if (x <= task.x1) return 0;\n  else {\n    const barWidth = task.x2 - task.x1;\n    const progressPercent = Math.round(((x - task.x1) * 100) / barWidth);\n    return progressPercent;\n  }\n};\nconst progressByXRTL = (x: number, task: BarTask) => {\n  if (x >= task.x2) return 0;\n  else if (x <= task.x1) return 100;\n  else {\n    const barWidth = task.x2 - task.x1;\n    const progressPercent = Math.round(((task.x2 - x) * 100) / barWidth);\n    return progressPercent;\n  }\n};\n\nexport const getProgressPoint = (\n  progressX: number,\n  taskY: number,\n  taskHeight: number\n) => {\n  const point = [\n    progressX - 5,\n    taskY + taskHeight,\n    progressX + 5,\n    taskY + taskHeight,\n    progressX,\n    taskY + taskHeight - 8.66,\n  ];\n  return point.join(\",\");\n};\n\nconst startByX = (x: number, xStep: number, task: BarTask) => {\n  if (x >= task.x2 - task.handleWidth * 2) {\n    x = task.x2 - task.handleWidth * 2;\n  }\n  const steps = Math.round((x - task.x1) / xStep);\n  const additionalXValue = steps * xStep;\n  const newX = task.x1 + additionalXValue;\n  return newX;\n};\n\nconst endByX = (x: number, xStep: number, task: BarTask) => {\n  if (x <= task.x1 + task.handleWidth * 2) {\n    x = task.x1 + task.handleWidth * 2;\n  }\n  const steps = Math.round((x - task.x2) / xStep);\n  const additionalXValue = steps * xStep;\n  const newX = task.x2 + additionalXValue;\n  return newX;\n};\n\nconst moveByX = (x: number, xStep: number, task: BarTask) => {\n  const steps = Math.round((x - task.x1) / xStep);\n  const additionalXValue = steps * xStep;\n  const newX1 = task.x1 + additionalXValue;\n  const newX2 = newX1 + task.x2 - task.x1;\n  return [newX1, newX2];\n};\n\nconst dateByX = (\n  x: number,\n  taskX: number,\n  taskDate: Date,\n  xStep: number,\n  timeStep: number\n) => {\n  let newDate = new Date(((x - taskX) / xStep) * timeStep + taskDate.getTime());\n  newDate = new Date(\n    newDate.getTime() +\n      (newDate.getTimezoneOffset() - taskDate.getTimezoneOffset()) * 60000\n  );\n  return newDate;\n};\n\n/**\n * Method handles event in real time(mousemove) and on finish(mouseup)\n */\nexport const handleTaskBySVGMouseEvent = (\n  svgX: number,\n  action: BarMoveAction,\n  selectedTask: BarTask,\n  xStep: number,\n  timeStep: number,\n  initEventX1Delta: number,\n  rtl: boolean\n): { isChanged: boolean; changedTask: BarTask } => {\n  let result: { isChanged: boolean; changedTask: BarTask };\n  switch (selectedTask.type) {\n    case \"milestone\":\n      result = handleTaskBySVGMouseEventForMilestone(\n        svgX,\n        action,\n        selectedTask,\n        xStep,\n        timeStep,\n        initEventX1Delta\n      );\n      break;\n    default:\n      result = handleTaskBySVGMouseEventForBar(\n        svgX,\n        action,\n        selectedTask,\n        xStep,\n        timeStep,\n        initEventX1Delta,\n        rtl\n      );\n      break;\n  }\n  return result;\n};\n\nconst handleTaskBySVGMouseEventForBar = (\n  svgX: number,\n  action: BarMoveAction,\n  selectedTask: BarTask,\n  xStep: number,\n  timeStep: number,\n  initEventX1Delta: number,\n  rtl: boolean\n): { isChanged: boolean; changedTask: BarTask } => {\n  const changedTask: BarTask = { ...selectedTask };\n  let isChanged = false;\n  switch (action) {\n    case \"progress\":\n      if (rtl) {\n        changedTask.progress = progressByXRTL(svgX, selectedTask);\n      } else {\n        changedTask.progress = progressByX(svgX, selectedTask);\n      }\n      isChanged = changedTask.progress !== selectedTask.progress;\n      if (isChanged) {\n        const [progressWidth, progressX] = progressWithByParams(\n          changedTask.x1,\n          changedTask.x2,\n          changedTask.progress,\n          rtl\n        );\n        changedTask.progressWidth = progressWidth;\n        changedTask.progressX = progressX;\n      }\n      break;\n    case \"start\": {\n      const newX1 = startByX(svgX, xStep, selectedTask);\n      changedTask.x1 = newX1;\n      isChanged = changedTask.x1 !== selectedTask.x1;\n      if (isChanged) {\n        if (rtl) {\n          changedTask.end = dateByX(\n            newX1,\n            selectedTask.x1,\n            selectedTask.end,\n            xStep,\n            timeStep\n          );\n        } else {\n          changedTask.start = dateByX(\n            newX1,\n            selectedTask.x1,\n            selectedTask.start,\n            xStep,\n            timeStep\n          );\n        }\n        const [progressWidth, progressX] = progressWithByParams(\n          changedTask.x1,\n          changedTask.x2,\n          changedTask.progress,\n          rtl\n        );\n        changedTask.progressWidth = progressWidth;\n        changedTask.progressX = progressX;\n      }\n      break;\n    }\n    case \"end\": {\n      const newX2 = endByX(svgX, xStep, selectedTask);\n      changedTask.x2 = newX2;\n      isChanged = changedTask.x2 !== selectedTask.x2;\n      if (isChanged) {\n        if (rtl) {\n          changedTask.start = dateByX(\n            newX2,\n            selectedTask.x2,\n            selectedTask.start,\n            xStep,\n            timeStep\n          );\n        } else {\n          changedTask.end = dateByX(\n            newX2,\n            selectedTask.x2,\n            selectedTask.end,\n            xStep,\n            timeStep\n          );\n        }\n        const [progressWidth, progressX] = progressWithByParams(\n          changedTask.x1,\n          changedTask.x2,\n          changedTask.progress,\n          rtl\n        );\n        changedTask.progressWidth = progressWidth;\n        changedTask.progressX = progressX;\n      }\n      break;\n    }\n    case \"move\": {\n      const [newMoveX1, newMoveX2] = moveByX(\n        svgX - initEventX1Delta,\n        xStep,\n        selectedTask\n      );\n      isChanged = newMoveX1 !== selectedTask.x1;\n      if (isChanged) {\n        changedTask.start = dateByX(\n          newMoveX1,\n          selectedTask.x1,\n          selectedTask.start,\n          xStep,\n          timeStep\n        );\n        changedTask.end = dateByX(\n          newMoveX2,\n          selectedTask.x2,\n          selectedTask.end,\n          xStep,\n          timeStep\n        );\n        changedTask.x1 = newMoveX1;\n        changedTask.x2 = newMoveX2;\n        const [progressWidth, progressX] = progressWithByParams(\n          changedTask.x1,\n          changedTask.x2,\n          changedTask.progress,\n          rtl\n        );\n        changedTask.progressWidth = progressWidth;\n        changedTask.progressX = progressX;\n      }\n      break;\n    }\n  }\n  return { isChanged, changedTask };\n};\n\nconst handleTaskBySVGMouseEventForMilestone = (\n  svgX: number,\n  action: BarMoveAction,\n  selectedTask: BarTask,\n  xStep: number,\n  timeStep: number,\n  initEventX1Delta: number\n): { isChanged: boolean; changedTask: BarTask } => {\n  const changedTask: BarTask = { ...selectedTask };\n  let isChanged = false;\n  switch (action) {\n    case \"move\": {\n      const [newMoveX1, newMoveX2] = moveByX(\n        svgX - initEventX1Delta,\n        xStep,\n        selectedTask\n      );\n      isChanged = newMoveX1 !== selectedTask.x1;\n      if (isChanged) {\n        changedTask.start = dateByX(\n          newMoveX1,\n          selectedTask.x1,\n          selectedTask.start,\n          xStep,\n          timeStep\n        );\n        changedTask.end = changedTask.start;\n        changedTask.x1 = newMoveX1;\n        changedTask.x2 = newMoveX2;\n      }\n      break;\n    }\n  }\n  return { isChanged, changedTask };\n};\n","import { BarTask } from \"../types/bar-task\";\nimport { Task } from \"../types/public-types\";\n\nexport function isKeyboardEvent(\n  event: React.MouseEvent | React.KeyboardEvent | React.FocusEvent\n): event is React.KeyboardEvent {\n  return (event as React.KeyboardEvent).key !== undefined;\n}\n\nexport function isMouseEvent(\n  event: React.MouseEvent | React.KeyboardEvent | React.FocusEvent\n): event is React.MouseEvent {\n  return (event as React.MouseEvent).clientX !== undefined;\n}\n\nexport function isBarTask(task: Task | BarTask): task is BarTask {\n  return (task as BarTask).x1 !== undefined;\n}\n\nexport function removeHiddenTasks(tasks: Task[]) {\n  const groupedTasks = tasks.filter(\n    t => t.hideChildren && t.type === \"project\"\n  );\n  if (groupedTasks.length > 0) {\n    for (let i = 0; groupedTasks.length > i; i++) {\n      const groupedTask = groupedTasks[i];\n      const children = getChildren(tasks, groupedTask);\n      tasks = tasks.filter(t => children.indexOf(t) === -1);\n    }\n  }\n  return tasks;\n}\n\nfunction getChildren(taskList: Task[], task: Task) {\n  let tasks: Task[] = [];\n  if (task.type !== \"project\") {\n    tasks = taskList.filter(\n      t => t.dependencies && t.dependencies.indexOf(task.id) !== -1\n    );\n  } else {\n    tasks = taskList.filter(t => t.project && t.project === task.id);\n  }\n  var taskChildren: Task[] = [];\n  tasks.forEach(t => {\n    taskChildren.push(...getChildren(taskList, t));\n  })\n  tasks = tasks.concat(tasks, taskChildren);\n  return tasks;\n}\n\nexport const sortTasks = (taskA: Task, taskB: Task) => {\n  const orderA = taskA.displayOrder || Number.MAX_VALUE;\n  const orderB = taskB.displayOrder || Number.MAX_VALUE;\n  if (orderA > orderB) {\n    return 1;\n  } else if (orderA < orderB) {\n    return -1;\n  } else {\n    return 0;\n  }\n};\n","import React from \"react\";\nimport style from \"./bar.module.css\";\n\ntype BarDisplayProps = {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n  isSelected: boolean;\n  /* progress start point */\n  progressX: number;\n  progressWidth: number;\n  barCornerRadius: number;\n  styles: {\n    backgroundColor: string;\n    backgroundSelectedColor: string;\n    progressColor: string;\n    progressSelectedColor: string;\n  };\n  onMouseDown: (event: React.MouseEvent<SVGPolygonElement, MouseEvent>) => void;\n};\nexport const BarDisplay: React.FC<BarDisplayProps> = ({\n  x,\n  y,\n  width,\n  height,\n  isSelected,\n  progressX,\n  progressWidth,\n  barCornerRadius,\n  styles,\n  onMouseDown,\n}) => {\n  const getProcessColor = () => {\n    return isSelected ? styles.progressSelectedColor : styles.progressColor;\n  };\n\n  const getBarColor = () => {\n    return isSelected ? styles.backgroundSelectedColor : styles.backgroundColor;\n  };\n\n  return (\n    <g onMouseDown={onMouseDown}>\n      <rect\n        x={x}\n        width={width}\n        y={y}\n        height={height}\n        ry={barCornerRadius}\n        rx={barCornerRadius}\n        fill={getBarColor()}\n        className={style.barBackground}\n      />\n      <rect\n        x={progressX}\n        width={progressWidth}\n        y={y}\n        height={height}\n        ry={barCornerRadius}\n        rx={barCornerRadius}\n        fill={getProcessColor()}\n      />\n    </g>\n  );\n};\n","import React from \"react\";\nimport styles from \"./bar.module.css\";\n\ntype BarDateHandleProps = {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n  barCornerRadius: number;\n  onMouseDown: (event: React.MouseEvent<SVGRectElement, MouseEvent>) => void;\n};\nexport const BarDateHandle: React.FC<BarDateHandleProps> = ({\n  x,\n  y,\n  width,\n  height,\n  barCornerRadius,\n  onMouseDown,\n}) => {\n  return (\n    <rect\n      x={x}\n      y={y}\n      width={width}\n      height={height}\n      className={styles.barHandle}\n      ry={barCornerRadius}\n      rx={barCornerRadius}\n      onMouseDown={onMouseDown}\n    />\n  );\n};\n","import React from \"react\";\nimport styles from \"./bar.module.css\";\n\ntype BarProgressHandleProps = {\n  progressPoint: string;\n  onMouseDown: (event: React.MouseEvent<SVGPolygonElement, MouseEvent>) => void;\n};\nexport const BarProgressHandle: React.FC<BarProgressHandleProps> = ({\n  progressPoint,\n  onMouseDown,\n}) => {\n  return (\n    <polygon\n      className={styles.barHandle}\n      points={progressPoint}\n      onMouseDown={onMouseDown}\n    />\n  );\n};\n","import React from \"react\";\nimport { getProgressPoint } from \"../../../helpers/bar-helper\";\nimport { BarDisplay } from \"./bar-display\";\nimport { BarDateHandle } from \"./bar-date-handle\";\nimport { BarProgressHandle } from \"./bar-progress-handle\";\nimport { TaskItemProps } from \"../task-item\";\nimport styles from \"./bar.module.css\";\n\nexport const Bar: React.FC<TaskItemProps> = ({\n  task,\n  isProgressChangeable,\n  isDateChangeable,\n  rtl,\n  onEventStart,\n  isSelected,\n}) => {\n  const progressPoint = getProgressPoint(\n    +!rtl * task.progressWidth + task.progressX,\n    task.y,\n    task.height\n  );\n  const handleHeight = task.height - 2;\n  return (\n    <g className={styles.barWrapper} tabIndex={0}>\n      <BarDisplay\n        x={task.x1}\n        y={task.y}\n        width={task.x2 - task.x1}\n        height={task.height}\n        progressX={task.progressX}\n        progressWidth={task.progressWidth}\n        barCornerRadius={task.barCornerRadius}\n        styles={task.styles}\n        isSelected={isSelected}\n        onMouseDown={e => {\n          isDateChangeable && onEventStart(\"move\", task, e);\n        }}\n      />\n      <g className=\"handleGroup\">\n        {isDateChangeable && (\n          <g>\n            {/* left */}\n            <BarDateHandle\n              x={task.x1 + 1}\n              y={task.y + 1}\n              width={task.handleWidth}\n              height={handleHeight}\n              barCornerRadius={task.barCornerRadius}\n              onMouseDown={e => {\n                onEventStart(\"start\", task, e);\n              }}\n            />\n            {/* right */}\n            <BarDateHandle\n              x={task.x2 - task.handleWidth - 1}\n              y={task.y + 1}\n              width={task.handleWidth}\n              height={handleHeight}\n              barCornerRadius={task.barCornerRadius}\n              onMouseDown={e => {\n                onEventStart(\"end\", task, e);\n              }}\n            />\n          </g>\n        )}\n        {isProgressChangeable && (\n          <BarProgressHandle\n            progressPoint={progressPoint}\n            onMouseDown={e => {\n              onEventStart(\"progress\", task, e);\n            }}\n          />\n        )}\n      </g>\n    </g>\n  );\n};\n","import React from \"react\";\nimport { getProgressPoint } from \"../../../helpers/bar-helper\";\nimport { BarDisplay } from \"./bar-display\";\nimport { BarProgressHandle } from \"./bar-progress-handle\";\nimport { TaskItemProps } from \"../task-item\";\nimport styles from \"./bar.module.css\";\n\nexport const BarSmall: React.FC<TaskItemProps> = ({\n  task,\n  isProgressChangeable,\n  isDateChangeable,\n  onEventStart,\n  isSelected,\n}) => {\n  const progressPoint = getProgressPoint(\n    task.progressWidth + task.x1,\n    task.y,\n    task.height\n  );\n  return (\n    <g className={styles.barWrapper} tabIndex={0}>\n      <BarDisplay\n        x={task.x1}\n        y={task.y}\n        width={task.x2 - task.x1}\n        height={task.height}\n        progressX={task.progressX}\n        progressWidth={task.progressWidth}\n        barCornerRadius={task.barCornerRadius}\n        styles={task.styles}\n        isSelected={isSelected}\n        onMouseDown={e => {\n          isDateChangeable && onEventStart(\"move\", task, e);\n        }}\n      />\n      <g className=\"handleGroup\">\n        {isProgressChangeable && (\n          <BarProgressHandle\n            progressPoint={progressPoint}\n            onMouseDown={e => {\n              onEventStart(\"progress\", task, e);\n            }}\n          />\n        )}\n      </g>\n    </g>\n  );\n};\n","import React from \"react\";\nimport { TaskItemProps } from \"../task-item\";\nimport styles from \"./milestone.module.css\";\n\nexport const Milestone: React.FC<TaskItemProps> = ({\n  task,\n  isDateChangeable,\n  onEventStart,\n  isSelected,\n}) => {\n  const transform = `rotate(45 ${task.x1 + task.height * 0.356} \n    ${task.y + task.height * 0.85})`;\n  const getBarColor = () => {\n    return isSelected\n      ? task.styles.backgroundSelectedColor\n      : task.styles.backgroundColor;\n  };\n\n  return (\n    <g tabIndex={0} className={styles.milestoneWrapper}>\n      <rect\n        fill={getBarColor()}\n        x={task.x1}\n        width={task.height}\n        y={task.y}\n        height={task.height}\n        rx={task.barCornerRadius}\n        ry={task.barCornerRadius}\n        transform={transform}\n        className={styles.milestoneBackground}\n        onMouseDown={e => {\n          isDateChangeable && onEventStart(\"move\", task, e);\n        }}\n      />\n    </g>\n  );\n};\n","import React from \"react\";\nimport { TaskItemProps } from \"../task-item\";\nimport styles from \"./project.module.css\";\n\nexport const Project: React.FC<TaskItemProps> = ({ task, isSelected }) => {\n  const barColor = isSelected\n    ? task.styles.backgroundSelectedColor\n    : task.styles.backgroundColor;\n  const processColor = isSelected\n    ? task.styles.progressSelectedColor\n    : task.styles.progressColor;\n  const projectWith = task.x2 - task.x1;\n\n  const projectLeftTriangle = [\n    task.x1,\n    task.y + task.height / 2 - 1,\n    task.x1,\n    task.y + task.height,\n    task.x1 + 15,\n    task.y + task.height / 2 - 1,\n  ].join(\",\");\n  const projectRightTriangle = [\n    task.x2,\n    task.y + task.height / 2 - 1,\n    task.x2,\n    task.y + task.height,\n    task.x2 - 15,\n    task.y + task.height / 2 - 1,\n  ].join(\",\");\n\n  return (\n    <g tabIndex={0} className={styles.projectWrapper}>\n      <rect\n        fill={barColor}\n        x={task.x1}\n        width={projectWith}\n        y={task.y}\n        height={task.height}\n        rx={task.barCornerRadius}\n        ry={task.barCornerRadius}\n        className={styles.projectBackground}\n      />\n      <rect\n        x={task.progressX}\n        width={task.progressWidth}\n        y={task.y}\n        height={task.height}\n        ry={task.barCornerRadius}\n        rx={task.barCornerRadius}\n        fill={processColor}\n      />\n      <rect\n        fill={barColor}\n        x={task.x1}\n        width={projectWith}\n        y={task.y}\n        height={task.height / 2}\n        rx={task.barCornerRadius}\n        ry={task.barCornerRadius}\n        className={styles.projectTop}\n      />\n      <polygon\n        className={styles.projectTop}\n        points={projectLeftTriangle}\n        fill={barColor}\n      />\n      <polygon\n        className={styles.projectTop}\n        points={projectRightTriangle}\n        fill={barColor}\n      />\n    </g>\n  );\n};\n","import React, { useEffect, useRef, useState } from \"react\";\nimport { BarTask } from \"../../types/bar-task\";\nimport { GanttContentMoveAction } from \"../../types/gantt-task-actions\";\nimport { Bar } from \"./bar/bar\";\nimport { BarSmall } from \"./bar/bar-small\";\nimport { Milestone } from \"./milestone/milestone\";\nimport { Project } from \"./project/project\";\nimport style from \"./task-list.module.css\";\n\nexport type TaskItemProps = {\n  task: BarTask;\n  arrowIndent: number;\n  taskHeight: number;\n  isProgressChangeable: boolean;\n  isDateChangeable: boolean;\n  isDelete: boolean;\n  isSelected: boolean;\n  rtl: boolean;\n  onEventStart: (\n    action: GanttContentMoveAction,\n    selectedTask: BarTask,\n    event?: React.MouseEvent | React.KeyboardEvent\n  ) => any;\n};\n\nexport const TaskItem: React.FC<TaskItemProps> = props => {\n  const {\n    task,\n    arrowIndent,\n    isDelete,\n    taskHeight,\n    isSelected,\n    rtl,\n    onEventStart,\n  } = {\n    ...props,\n  };\n  const textRef = useRef<SVGTextElement>(null);\n  const [taskItem, setTaskItem] = useState<JSX.Element>(<div />);\n  const [isTextInside, setIsTextInside] = useState(true);\n\n  useEffect(() => {\n    switch (task.typeInternal) {\n      case \"milestone\":\n        setTaskItem(<Milestone {...props} />);\n        break;\n      case \"project\":\n        setTaskItem(<Project {...props} />);\n        break;\n      case \"smalltask\":\n        setTaskItem(<BarSmall {...props} />);\n        break;\n      default:\n        setTaskItem(<Bar {...props} />);\n        break;\n    }\n  }, [task, isSelected]);\n\n  useEffect(() => {\n    if (textRef.current) {\n      setIsTextInside(textRef.current.getBBox().width < task.x2 - task.x1);\n    }\n  }, [textRef, task]);\n\n  const getX = () => {\n    const width = task.x2 - task.x1;\n    const hasChild = task.barChildren.length > 0;\n    if (isTextInside) {\n      return task.x1 + width * 0.5;\n    }\n    if (rtl && textRef.current) {\n      return (\n        task.x1 -\n        textRef.current.getBBox().width -\n        arrowIndent * +hasChild -\n        arrowIndent * 0.2\n      );\n    } else {\n      return task.x1 + width + arrowIndent * +hasChild + arrowIndent * 0.2;\n    }\n  };\n\n  return (\n    <g\n      onKeyDown={e => {\n        switch (e.key) {\n          case \"Delete\": {\n            if (isDelete) onEventStart(\"delete\", task, e);\n            break;\n          }\n        }\n        e.stopPropagation();\n      }}\n      onMouseEnter={e => {\n        onEventStart(\"mouseenter\", task, e);\n      }}\n      onMouseLeave={e => {\n        onEventStart(\"mouseleave\", task, e);\n      }}\n      onDoubleClick={e => {\n        onEventStart(\"dblclick\", task, e);\n      }}\n      onClick={e => {\n        onEventStart(\"click\", task, e);\n      }}\n      onFocus={() => {\n        onEventStart(\"select\", task);\n      }}\n    >\n      {taskItem}\n      <text\n        x={getX()}\n        y={task.y + taskHeight * 0.5}\n        className={\n          isTextInside\n            ? style.barLabel\n            : style.barLabel && style.barLabelOutside\n        }\n        ref={textRef}\n      >\n        {task.name}\n      </text>\n    </g>\n  );\n};\n","import React, { useEffect, useState } from \"react\";\nimport { EventOption } from \"../../types/public-types\";\nimport { BarTask } from \"../../types/bar-task\";\nimport { Arrow } from \"../other/arrow\";\nimport { handleTaskBySVGMouseEvent } from \"../../helpers/bar-helper\";\nimport { isKeyboardEvent } from \"../../helpers/other-helper\";\nimport { TaskItem } from \"../task-item/task-item\";\nimport {\n  BarMoveAction,\n  GanttContentMoveAction,\n  GanttEvent,\n} from \"../../types/gantt-task-actions\";\n\nexport type TaskGanttContentProps = {\n  tasks: BarTask[];\n  dates: Date[];\n  ganttEvent: GanttEvent;\n  selectedTask: BarTask | undefined;\n  rowHeight: number;\n  columnWidth: number;\n  timeStep: number;\n  svg?: React.RefObject<SVGSVGElement>;\n  svgWidth: number;\n  taskHeight: number;\n  arrowColor: string;\n  arrowIndent: number;\n  fontSize: string;\n  fontFamily: string;\n  rtl: boolean;\n  setGanttEvent: (value: GanttEvent) => void;\n  setFailedTask: (value: BarTask | null) => void;\n  setSelectedTask: (taskId: string) => void;\n} & EventOption;\n\nexport const TaskGanttContent: React.FC<TaskGanttContentProps> = ({\n  tasks,\n  dates,\n  ganttEvent,\n  selectedTask,\n  rowHeight,\n  columnWidth,\n  timeStep,\n  svg,\n  taskHeight,\n  arrowColor,\n  arrowIndent,\n  fontFamily,\n  fontSize,\n  rtl,\n  setGanttEvent,\n  setFailedTask,\n  setSelectedTask,\n  onDateChange,\n  onProgressChange,\n  onDoubleClick,\n  onClick,\n  onDelete,\n}) => {\n  const point = svg?.current?.createSVGPoint();\n  const [xStep, setXStep] = useState(0);\n  const [initEventX1Delta, setInitEventX1Delta] = useState(0);\n  const [isMoving, setIsMoving] = useState(false);\n\n  // create xStep\n  useEffect(() => {\n    const dateDelta =\n      dates[1].getTime() -\n      dates[0].getTime() -\n      dates[1].getTimezoneOffset() * 60 * 1000 +\n      dates[0].getTimezoneOffset() * 60 * 1000;\n    const newXStep = (timeStep * columnWidth) / dateDelta;\n    setXStep(newXStep);\n  }, [columnWidth, dates, timeStep]);\n\n  useEffect(() => {\n    const handleMouseMove = async (event: MouseEvent) => {\n      if (!ganttEvent.changedTask || !point || !svg?.current) return;\n      event.preventDefault();\n\n      point.x = event.clientX;\n      const cursor = point.matrixTransform(\n        svg?.current.getScreenCTM()?.inverse()\n      );\n\n      const { isChanged, changedTask } = handleTaskBySVGMouseEvent(\n        cursor.x,\n        ganttEvent.action as BarMoveAction,\n        ganttEvent.changedTask,\n        xStep,\n        timeStep,\n        initEventX1Delta,\n        rtl\n      );\n      if (isChanged) {\n        setGanttEvent({ action: ganttEvent.action, changedTask });\n      }\n    };\n\n    const handleMouseUp = async (event: MouseEvent) => {\n      const { action, originalSelectedTask, changedTask } = ganttEvent;\n      if (!changedTask || !point || !svg?.current || !originalSelectedTask)\n        return;\n      event.preventDefault();\n\n      point.x = event.clientX;\n      const cursor = point.matrixTransform(\n        svg?.current.getScreenCTM()?.inverse()\n      );\n      const { changedTask: newChangedTask } = handleTaskBySVGMouseEvent(\n        cursor.x,\n        action as BarMoveAction,\n        changedTask,\n        xStep,\n        timeStep,\n        initEventX1Delta,\n        rtl\n      );\n\n      const isNotLikeOriginal =\n        originalSelectedTask.start !== newChangedTask.start ||\n        originalSelectedTask.end !== newChangedTask.end ||\n        originalSelectedTask.progress !== newChangedTask.progress;\n\n      // remove listeners\n      svg.current.removeEventListener(\"mousemove\", handleMouseMove);\n      svg.current.removeEventListener(\"mouseup\", handleMouseUp);\n      setGanttEvent({ action: \"\" });\n      setIsMoving(false);\n\n      // custom operation start\n      let operationSuccess = true;\n      if (\n        (action === \"move\" || action === \"end\" || action === \"start\") &&\n        onDateChange &&\n        isNotLikeOriginal\n      ) {\n        try {\n          const result = await onDateChange(\n            newChangedTask,\n            newChangedTask.barChildren\n          );\n          if (result !== undefined) {\n            operationSuccess = result;\n          }\n        } catch (error) {\n          operationSuccess = false;\n        }\n      } else if (onProgressChange && isNotLikeOriginal) {\n        try {\n          const result = await onProgressChange(\n            newChangedTask,\n            newChangedTask.barChildren\n          );\n          if (result !== undefined) {\n            operationSuccess = result;\n          }\n        } catch (error) {\n          operationSuccess = false;\n        }\n      }\n\n      // If operation is failed - return old state\n      if (!operationSuccess) {\n        setFailedTask(originalSelectedTask);\n      }\n    };\n\n    if (\n      !isMoving &&\n      (ganttEvent.action === \"move\" ||\n        ganttEvent.action === \"end\" ||\n        ganttEvent.action === \"start\" ||\n        ganttEvent.action === \"progress\") &&\n      svg?.current\n    ) {\n      svg.current.addEventListener(\"mousemove\", handleMouseMove);\n      svg.current.addEventListener(\"mouseup\", handleMouseUp);\n      setIsMoving(true);\n    }\n  }, [\n    ganttEvent,\n    xStep,\n    initEventX1Delta,\n    onProgressChange,\n    timeStep,\n    onDateChange,\n    svg,\n    isMoving,\n    point,\n    rtl,\n    setFailedTask,\n    setGanttEvent,\n  ]);\n\n  /**\n   * Method is Start point of task change\n   */\n  const handleBarEventStart = async (\n    action: GanttContentMoveAction,\n    task: BarTask,\n    event?: React.MouseEvent | React.KeyboardEvent\n  ) => {\n    if (!event) {\n      if (action === \"select\") {\n        setSelectedTask(task.id);\n      }\n    }\n    // Keyboard events\n    else if (isKeyboardEvent(event)) {\n      if (action === \"delete\") {\n        if (onDelete) {\n          try {\n            const result = await onDelete(task);\n            if (result !== undefined && result) {\n              setGanttEvent({ action, changedTask: task });\n            }\n          } catch (error) {\n            console.error(\"Error on Delete. \" + error);\n          }\n        }\n      }\n    }\n    // Mouse Events\n    else if (action === \"mouseenter\") {\n      if (!ganttEvent.action) {\n        setGanttEvent({\n          action,\n          changedTask: task,\n          originalSelectedTask: task,\n        });\n      }\n    } else if (action === \"mouseleave\") {\n      if (ganttEvent.action === \"mouseenter\") {\n        setGanttEvent({ action: \"\" });\n      }\n    } else if (action === \"dblclick\") {\n      !!onDoubleClick && onDoubleClick(task);\n    } else if (action === \"click\") {\n      !!onClick && onClick(task);\n    }\n    // Change task event start\n    else if (action === \"move\") {\n      if (!svg?.current || !point) return;\n      point.x = event.clientX;\n      const cursor = point.matrixTransform(\n        svg.current.getScreenCTM()?.inverse()\n      );\n      setInitEventX1Delta(cursor.x - task.x1);\n      setGanttEvent({\n        action,\n        changedTask: task,\n        originalSelectedTask: task,\n      });\n    } else {\n      setGanttEvent({\n        action,\n        changedTask: task,\n        originalSelectedTask: task,\n      });\n    }\n  };\n\n  return (\n    <g className=\"content\">\n      <g className=\"arrows\" fill={arrowColor} stroke={arrowColor}>\n        {tasks.map(task => {\n          return task.barChildren.map(child => {\n            return (\n              <Arrow\n                key={`Arrow from ${task.id} to ${tasks[child.index].id}`}\n                taskFrom={task}\n                taskTo={tasks[child.index]}\n                rowHeight={rowHeight}\n                taskHeight={taskHeight}\n                arrowIndent={arrowIndent}\n                rtl={rtl}\n              />\n            );\n          });\n        })}\n      </g>\n      <g className=\"bar\" fontFamily={fontFamily} fontSize={fontSize}>\n        {tasks.map(task => {\n          return (\n            <TaskItem\n              task={task}\n              arrowIndent={arrowIndent}\n              taskHeight={taskHeight}\n              isProgressChangeable={!!onProgressChange && !task.isDisabled}\n              isDateChangeable={!!onDateChange && !task.isDisabled}\n              isDelete={!task.isDisabled}\n              onEventStart={handleBarEventStart}\n              key={task.id}\n              isSelected={!!selectedTask && task.id === selectedTask.id}\n              rtl={rtl}\n            />\n          );\n        })}\n      </g>\n    </g>\n  );\n};\n","import React, { useRef, useEffect } from \"react\";\nimport { GridProps, Grid } from \"../grid/grid\";\nimport { CalendarProps, Calendar } from \"../calendar/calendar\";\nimport { TaskGanttContentProps, TaskGanttContent } from \"./task-gantt-content\";\nimport styles from \"./gantt.module.css\";\n\nexport type TaskGanttProps = {\n  gridProps: GridProps;\n  calendarProps: CalendarProps;\n  barProps: TaskGanttContentProps;\n  ganttHeight: number;\n  scrollY: number;\n  scrollX: number;\n};\nexport const TaskGantt: React.FC<TaskGanttProps> = ({\n  gridProps,\n  calendarProps,\n  barProps,\n  ganttHeight,\n  scrollY,\n  scrollX,\n}) => {\n  const ganttSVGRef = useRef<SVGSVGElement>(null);\n  const horizontalContainerRef = useRef<HTMLDivElement>(null);\n  const verticalGanttContainerRef = useRef<HTMLDivElement>(null);\n  const newBarProps = { ...barProps, svg: ganttSVGRef };\n\n  useEffect(() => {\n    if (horizontalContainerRef.current) {\n      horizontalContainerRef.current.scrollTop = scrollY;\n    }\n  }, [scrollY]);\n\n  useEffect(() => {\n    if (verticalGanttContainerRef.current) {\n      verticalGanttContainerRef.current.scrollLeft = scrollX;\n    }\n  }, [scrollX]);\n\n  return (\n    <div\n      className={styles.ganttVerticalContainer}\n      ref={verticalGanttContainerRef}\n      dir=\"ltr\"\n    >\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        width={gridProps.svgWidth}\n        height={calendarProps.headerHeight}\n        fontFamily={barProps.fontFamily}\n      >\n        <Calendar {...calendarProps} />\n      </svg>\n      <div\n        ref={horizontalContainerRef}\n        className={styles.horizontalContainer}\n        style={\n          ganttHeight\n            ? { height: ganttHeight, width: gridProps.svgWidth }\n            : { width: gridProps.svgWidth }\n        }\n      >\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          width={gridProps.svgWidth}\n          height={barProps.rowHeight * barProps.tasks.length}\n          fontFamily={barProps.fontFamily}\n          ref={ganttSVGRef}\n        >\n          <Grid {...gridProps} />\n          <TaskGanttContent {...newBarProps} />\n        </svg>\n      </div>\n    </div>\n  );\n};\n","import React, { SyntheticEvent, useRef, useEffect } from \"react\";\nimport styles from \"./horizontal-scroll.module.css\";\n\nexport const HorizontalScroll: React.FC<{\n  scroll: number;\n  svgWidth: number;\n  taskListWidth: number;\n  rtl: boolean;\n  onScroll: (event: SyntheticEvent<HTMLDivElement>) => void;\n}> = ({ scroll, svgWidth, taskListWidth, rtl, onScroll }) => {\n  const scrollRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (scrollRef.current) {\n      scrollRef.current.scrollLeft = scroll;\n    }\n  }, [scroll]);\n\n  return (\n    <div\n      dir=\"ltr\"\n      style={{\n        margin: rtl\n          ? `0px ${taskListWidth}px 0px 0px`\n          : `0px 0px 0px ${taskListWidth}px`,\n      }}\n      className={styles.scrollWrapper}\n      onScroll={onScroll}\n      ref={scrollRef}\n    >\n      <div style={{ width: svgWidth }} className={styles.scroll} />\n    </div>\n  );\n};\n","import React, {\n  useState,\n  SyntheticEvent,\n  useRef,\n  useEffect,\n  useMemo,\n} from \"react\";\nimport { ViewMode, GanttProps, Task } from \"../../types/public-types\";\nimport { GridProps } from \"../grid/grid\";\nimport { ganttDateRange, seedDates } from \"../../helpers/date-helper\";\nimport { CalendarProps } from \"../calendar/calendar\";\nimport { TaskGanttContentProps } from \"./task-gantt-content\";\nimport { TaskListHeaderDefault } from \"../task-list/task-list-header\";\nimport { TaskListTableDefault } from \"../task-list/task-list-table\";\nimport { StandardTooltipContent, Tooltip } from \"../other/tooltip\";\nimport { VerticalScroll } from \"../other/vertical-scroll\";\nimport { TaskListProps, TaskList } from \"../task-list/task-list\";\nimport { TaskGantt } from \"./task-gantt\";\nimport { BarTask } from \"../../types/bar-task\";\nimport { convertToBarTasks } from \"../../helpers/bar-helper\";\nimport { GanttEvent } from \"../../types/gantt-task-actions\";\nimport { DateSetup } from \"../../types/date-setup\";\nimport { HorizontalScroll } from \"../other/horizontal-scroll\";\nimport { removeHiddenTasks, sortTasks } from \"../../helpers/other-helper\";\nimport styles from \"./gantt.module.css\";\n\nexport const Gantt: React.FunctionComponent<GanttProps> = ({\n  tasks,\n  headerHeight = 50,\n  columnWidth = 60,\n  listCellWidth = \"155px\",\n  rowHeight = 50,\n  ganttHeight = 0,\n  viewMode = ViewMode.Day,\n  preStepsCount = 1,\n  locale = \"en-GB\",\n  barFill = 60,\n  barCornerRadius = 3,\n  barProgressColor = \"#a3a3ff\",\n  barProgressSelectedColor = \"#8282f5\",\n  barBackgroundColor = \"#b8c2cc\",\n  barBackgroundSelectedColor = \"#aeb8c2\",\n  projectProgressColor = \"#7db59a\",\n  projectProgressSelectedColor = \"#59a985\",\n  projectBackgroundColor = \"#fac465\",\n  projectBackgroundSelectedColor = \"#f7bb53\",\n  milestoneBackgroundColor = \"#f1c453\",\n  milestoneBackgroundSelectedColor = \"#f29e4c\",\n  rtl = false,\n  handleWidth = 8,\n  timeStep = 300000,\n  arrowColor = \"grey\",\n  fontFamily = \"Arial, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue\",\n  fontSize = \"14px\",\n  arrowIndent = 20,\n  todayColor = \"rgba(252, 248, 227, 0.5)\",\n  viewDate,\n  TooltipContent = StandardTooltipContent,\n  TaskListHeader = TaskListHeaderDefault,\n  TaskListTable = TaskListTableDefault,\n  onDateChange,\n  onProgressChange,\n  onDoubleClick,\n  onClick,\n  onDelete,\n  onSelect,\n  onExpanderClick,\n}) => {\n  const wrapperRef = useRef<HTMLDivElement>(null);\n  const taskListRef = useRef<HTMLDivElement>(null);\n  const [dateSetup, setDateSetup] = useState<DateSetup>(() => {\n    const [startDate, endDate] = ganttDateRange(tasks, viewMode, preStepsCount);\n    return { viewMode, dates: seedDates(startDate, endDate, viewMode) };\n  });\n  const [currentViewDate, setCurrentViewDate] = useState<Date | undefined>(\n    undefined\n  );\n\n  const [taskListWidth, setTaskListWidth] = useState(0);\n  const [svgContainerWidth, setSvgContainerWidth] = useState(0);\n  const [svgContainerHeight, setSvgContainerHeight] = useState(ganttHeight);\n  const [barTasks, setBarTasks] = useState<BarTask[]>([]);\n  const [ganttEvent, setGanttEvent] = useState<GanttEvent>({\n    action: \"\",\n  });\n  const taskHeight = useMemo(\n    () => (rowHeight * barFill) / 100,\n    [rowHeight, barFill]\n  );\n\n  const [selectedTask, setSelectedTask] = useState<BarTask>();\n  const [failedTask, setFailedTask] = useState<BarTask | null>(null);\n\n  const svgWidth = dateSetup.dates.length * columnWidth;\n  const ganttFullHeight = barTasks.length * rowHeight;\n\n  const [scrollY, setScrollY] = useState(0);\n  const [scrollX, setScrollX] = useState(-1);\n  const [ignoreScrollEvent, setIgnoreScrollEvent] = useState(false);\n\n  // task change events\n  useEffect(() => {\n    let filteredTasks: Task[];\n    if (onExpanderClick) {\n      filteredTasks = removeHiddenTasks(tasks);\n    } else {\n      filteredTasks = tasks;\n    }\n    filteredTasks = filteredTasks.sort(sortTasks);\n    const [startDate, endDate] = ganttDateRange(\n      filteredTasks,\n      viewMode,\n      preStepsCount\n    );\n    let newDates = seedDates(startDate, endDate, viewMode);\n    if (rtl) {\n      newDates = newDates.reverse();\n      if (scrollX === -1) {\n        setScrollX(newDates.length * columnWidth);\n      }\n    }\n    setDateSetup({ dates: newDates, viewMode });\n    setBarTasks(\n      convertToBarTasks(\n        filteredTasks,\n        newDates,\n        columnWidth,\n        rowHeight,\n        taskHeight,\n        barCornerRadius,\n        handleWidth,\n        rtl,\n        barProgressColor,\n        barProgressSelectedColor,\n        barBackgroundColor,\n        barBackgroundSelectedColor,\n        projectProgressColor,\n        projectProgressSelectedColor,\n        projectBackgroundColor,\n        projectBackgroundSelectedColor,\n        milestoneBackgroundColor,\n        milestoneBackgroundSelectedColor\n      )\n    );\n  }, [\n    tasks,\n    viewMode,\n    preStepsCount,\n    rowHeight,\n    barCornerRadius,\n    columnWidth,\n    taskHeight,\n    handleWidth,\n    barProgressColor,\n    barProgressSelectedColor,\n    barBackgroundColor,\n    barBackgroundSelectedColor,\n    projectProgressColor,\n    projectProgressSelectedColor,\n    projectBackgroundColor,\n    projectBackgroundSelectedColor,\n    milestoneBackgroundColor,\n    milestoneBackgroundSelectedColor,\n    rtl,\n    scrollX,\n    onExpanderClick,\n  ]);\n\n  useEffect(() => {\n    if (\n      viewMode === dateSetup.viewMode &&\n      ((viewDate && !currentViewDate) ||\n        (viewDate && currentViewDate?.valueOf() !== viewDate.valueOf()))\n    ) {\n      const dates = dateSetup.dates;\n      const index = dates.findIndex(\n        (d, i) =>\n          viewDate.valueOf() >= d.valueOf() &&\n          i + 1 !== dates.length &&\n          viewDate.valueOf() < dates[i + 1].valueOf()\n      );\n      if (index === -1) {\n        return;\n      }\n      setCurrentViewDate(viewDate);\n      setScrollX(columnWidth * index);\n    }\n  }, [\n    viewDate,\n    columnWidth,\n    dateSetup.dates,\n    dateSetup.viewMode,\n    viewMode,\n    currentViewDate,\n    setCurrentViewDate,\n  ]);\n\n  useEffect(() => {\n    const { changedTask, action } = ganttEvent;\n    if (changedTask) {\n      if (action === \"delete\") {\n        setGanttEvent({ action: \"\" });\n        setBarTasks(barTasks.filter(t => t.id !== changedTask.id));\n      } else if (\n        action === \"move\" ||\n        action === \"end\" ||\n        action === \"start\" ||\n        action === \"progress\"\n      ) {\n        const prevStateTask = barTasks.find(t => t.id === changedTask.id);\n        if (\n          prevStateTask &&\n          (prevStateTask.start.getTime() !== changedTask.start.getTime() ||\n            prevStateTask.end.getTime() !== changedTask.end.getTime() ||\n            prevStateTask.progress !== changedTask.progress)\n        ) {\n          // actions for change\n          const newTaskList = barTasks.map(t =>\n            t.id === changedTask.id ? changedTask : t\n          );\n          setBarTasks(newTaskList);\n        }\n      }\n    }\n  }, [ganttEvent, barTasks]);\n\n  useEffect(() => {\n    if (failedTask) {\n      setBarTasks(barTasks.map(t => (t.id !== failedTask.id ? t : failedTask)));\n      setFailedTask(null);\n    }\n  }, [failedTask, barTasks]);\n\n  useEffect(() => {\n    if (!listCellWidth) {\n      setTaskListWidth(0);\n    }\n    if (taskListRef.current) {\n      setTaskListWidth(taskListRef.current.offsetWidth);\n    }\n  }, [taskListRef, listCellWidth]);\n\n  useEffect(() => {\n    if (wrapperRef.current) {\n      setSvgContainerWidth(wrapperRef.current.offsetWidth - taskListWidth);\n    }\n  }, [wrapperRef, taskListWidth]);\n\n  useEffect(() => {\n    if (ganttHeight) {\n      setSvgContainerHeight(ganttHeight + headerHeight);\n    } else {\n      setSvgContainerHeight(tasks.length * rowHeight + headerHeight);\n    }\n  }, [ganttHeight, tasks, headerHeight, rowHeight]);\n\n  // scroll events\n  useEffect(() => {\n    const handleWheel = (event: WheelEvent) => {\n      if (event.shiftKey || event.deltaX) {\n        const scrollMove = event.deltaX ? event.deltaX : event.deltaY;\n        let newScrollX = scrollX + scrollMove;\n        if (newScrollX < 0) {\n          newScrollX = 0;\n        } else if (newScrollX > svgWidth) {\n          newScrollX = svgWidth;\n        }\n        setScrollX(newScrollX);\n        event.preventDefault();\n      } else if (ganttHeight) {\n        let newScrollY = scrollY + event.deltaY;\n        if (newScrollY < 0) {\n          newScrollY = 0;\n        } else if (newScrollY > ganttFullHeight - ganttHeight) {\n          newScrollY = ganttFullHeight - ganttHeight;\n        }\n        if (newScrollY !== scrollY) {\n          setScrollY(newScrollY);\n          event.preventDefault();\n        }\n      }\n\n      setIgnoreScrollEvent(true);\n    };\n\n    // subscribe if scroll is necessary\n    wrapperRef.current?.addEventListener(\"wheel\", handleWheel, {\n      passive: false,\n    });\n    return () => {\n      wrapperRef.current?.removeEventListener(\"wheel\", handleWheel);\n    };\n  }, [\n    wrapperRef,\n    scrollY,\n    scrollX,\n    ganttHeight,\n    svgWidth,\n    rtl,\n    ganttFullHeight,\n  ]);\n\n  const handleScrollY = (event: SyntheticEvent<HTMLDivElement>) => {\n    if (scrollY !== event.currentTarget.scrollTop && !ignoreScrollEvent) {\n      setScrollY(event.currentTarget.scrollTop);\n      setIgnoreScrollEvent(true);\n    } else {\n      setIgnoreScrollEvent(false);\n    }\n  };\n\n  const handleScrollX = (event: SyntheticEvent<HTMLDivElement>) => {\n    if (scrollX !== event.currentTarget.scrollLeft && !ignoreScrollEvent) {\n      setScrollX(event.currentTarget.scrollLeft);\n      setIgnoreScrollEvent(true);\n    } else {\n      setIgnoreScrollEvent(false);\n    }\n  };\n\n  /**\n   * Handles arrow keys events and transform it to new scroll\n   */\n  const handleKeyDown = (event: React.KeyboardEvent<HTMLDivElement>) => {\n    event.preventDefault();\n    let newScrollY = scrollY;\n    let newScrollX = scrollX;\n    let isX = true;\n    switch (event.key) {\n      case \"Down\": // IE/Edge specific value\n      case \"ArrowDown\":\n        newScrollY += rowHeight;\n        isX = false;\n        break;\n      case \"Up\": // IE/Edge specific value\n      case \"ArrowUp\":\n        newScrollY -= rowHeight;\n        isX = false;\n        break;\n      case \"Left\":\n      case \"ArrowLeft\":\n        newScrollX -= columnWidth;\n        break;\n      case \"Right\": // IE/Edge specific value\n      case \"ArrowRight\":\n        newScrollX += columnWidth;\n        break;\n    }\n    if (isX) {\n      if (newScrollX < 0) {\n        newScrollX = 0;\n      } else if (newScrollX > svgWidth) {\n        newScrollX = svgWidth;\n      }\n      setScrollX(newScrollX);\n    } else {\n      if (newScrollY < 0) {\n        newScrollY = 0;\n      } else if (newScrollY > ganttFullHeight - ganttHeight) {\n        newScrollY = ganttFullHeight - ganttHeight;\n      }\n      setScrollY(newScrollY);\n    }\n    setIgnoreScrollEvent(true);\n  };\n\n  /**\n   * Task select event\n   */\n  const handleSelectedTask = (taskId: string) => {\n    const newSelectedTask = barTasks.find(t => t.id === taskId);\n    const oldSelectedTask = barTasks.find(\n      t => !!selectedTask && t.id === selectedTask.id\n    );\n    if (onSelect) {\n      if (oldSelectedTask) {\n        onSelect(oldSelectedTask, false);\n      }\n      if (newSelectedTask) {\n        onSelect(newSelectedTask, true);\n      }\n    }\n    setSelectedTask(newSelectedTask);\n  };\n  const handleExpanderClick = (task: Task) => {\n    if (onExpanderClick && task.hideChildren !== undefined) {\n      onExpanderClick({ ...task, hideChildren: !task.hideChildren });\n    }\n  };\n  const gridProps: GridProps = {\n    columnWidth,\n    svgWidth,\n    tasks: tasks,\n    rowHeight,\n    dates: dateSetup.dates,\n    todayColor,\n    rtl,\n  };\n  const calendarProps: CalendarProps = {\n    dateSetup,\n    locale,\n    viewMode,\n    headerHeight,\n    columnWidth,\n    fontFamily,\n    fontSize,\n    rtl,\n  };\n  const barProps: TaskGanttContentProps = {\n    tasks: barTasks,\n    dates: dateSetup.dates,\n    ganttEvent,\n    selectedTask,\n    rowHeight,\n    taskHeight,\n    columnWidth,\n    arrowColor,\n    timeStep,\n    fontFamily,\n    fontSize,\n    arrowIndent,\n    svgWidth,\n    rtl,\n    setGanttEvent,\n    setFailedTask,\n    setSelectedTask: handleSelectedTask,\n    onDateChange,\n    onProgressChange,\n    onDoubleClick,\n    onClick,\n    onDelete,\n  };\n\n  const tableProps: TaskListProps = {\n    rowHeight,\n    rowWidth: listCellWidth,\n    fontFamily,\n    fontSize,\n    tasks: barTasks,\n    locale,\n    headerHeight,\n    scrollY,\n    ganttHeight,\n    horizontalContainerClass: styles.horizontalContainer,\n    selectedTask,\n    taskListRef,\n    setSelectedTask: handleSelectedTask,\n    onExpanderClick: handleExpanderClick,\n    TaskListHeader,\n    TaskListTable,\n  };\n  return (\n    <div>\n      <div\n        className={styles.wrapper}\n        onKeyDown={handleKeyDown}\n        tabIndex={0}\n        ref={wrapperRef}\n      >\n        {listCellWidth && <TaskList {...tableProps} />}\n        <TaskGantt\n          gridProps={gridProps}\n          calendarProps={calendarProps}\n          barProps={barProps}\n          ganttHeight={ganttHeight}\n          scrollY={scrollY}\n          scrollX={scrollX}\n        />\n        {ganttEvent.changedTask && (\n          <Tooltip\n            arrowIndent={arrowIndent}\n            rowHeight={rowHeight}\n            svgContainerHeight={svgContainerHeight}\n            svgContainerWidth={svgContainerWidth}\n            fontFamily={fontFamily}\n            fontSize={fontSize}\n            scrollX={scrollX}\n            scrollY={scrollY}\n            task={ganttEvent.changedTask}\n            headerHeight={headerHeight}\n            taskListWidth={taskListWidth}\n            TooltipContent={TooltipContent}\n            rtl={rtl}\n            svgWidth={svgWidth}\n          />\n        )}\n        <VerticalScroll\n          ganttFullHeight={ganttFullHeight}\n          ganttHeight={ganttHeight}\n          headerHeight={headerHeight}\n          scroll={scrollY}\n          onScroll={handleScrollY}\n          rtl={rtl}\n        />\n      </div>\n      <HorizontalScroll\n        svgWidth={svgWidth}\n        taskListWidth={taskListWidth}\n        scroll={scrollX}\n        rtl={rtl}\n        onScroll={handleScrollX}\n      />\n    </div>\n  );\n};\n"],"names":["ViewMode","intlDTCache","getCachedDateTimeFormat","locString","opts","key","JSON","stringify","dtf","Intl","DateTimeFormat","addToDate","date","quantity","scale","newDate","Date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","startOfDate","scores","shouldReset","_scale","maxScore","indexOf","ganttDateRange","tasks","viewMode","preStepsCount","newStartDate","start","newEndDate","task","end","Year","Month","Week","getMonday","Day","QuarterDay","HalfDay","Hour","seedDates","startDate","endDate","currentDate","dates","push","getLocaleMonth","locale","bottomValue","month","format","replace","toLocaleUpperCase","getLocalDayOfWeek","weekday","day","getDay","diff","setDate","getWeekNumberISO8601","tmpDate","valueOf","dayNumber","firstThursday","setMonth","weekNumber","Math","ceil","toString","length","getDaysInMonth","year","TaskListHeaderDefault","headerHeight","fontFamily","fontSize","rowWidth","React","className","styles","ganttTable","style","ganttTable_Header","height","ganttTable_HeaderItem","minWidth","ganttTable_HeaderSeparator","marginTop","localeDateStringCache","toLocaleDateStringFactory","dateTimeOptions","lds","toLocaleDateString","TaskListTableDefault","rowHeight","onExpanderClick","useMemo","taskListWrapper","map","t","expanderSymbol","hideChildren","taskListTableRow","id","taskListCell","maxWidth","title","name","taskListNameWrapper","taskListExpander","taskListEmptyExpander","onClick","Tooltip","rtl","svgContainerHeight","svgContainerWidth","scrollX","scrollY","arrowIndent","taskListWidth","TooltipContent","tooltipRef","useRef","useState","relatedY","setRelatedY","relatedX","setRelatedX","useEffect","current","tooltipHeight","offsetHeight","tooltipWidth","offsetWidth","newRelatedY","index","newRelatedX","x1","x2","tooltipLeftmostPoint","fullChartWidth","tooltipLowerPoint","ref","tooltipDetailsContainer","tooltipDetailsContainerHidden","left","top","StandardTooltipContent","tooltipDefaultContainer","getTime","tooltipDefaultContainerParagraph","progress","VerticalScroll","scroll","ganttHeight","ganttFullHeight","onScroll","scrollRef","scrollTop","marginLeft","width","TaskList","selectedTask","setSelectedTask","taskListRef","horizontalContainerClass","TaskListHeader","TaskListTable","horizontalContainerRef","headerProps","selectedTaskId","tableProps","GridBody","svgWidth","columnWidth","todayColor","y","gridRows","rowLines","x","y1","y2","gridRowLine","gridRow","now","tickX","ticks","today","i","gridTick","fill","Grid","props","TopPartOfCalendar","value","x1Line","y1Line","y2Line","xText","yText","calendarTopTick","calendarTopText","Calendar","dateSetup","getCalendarValuesForYear","topValues","bottomValues","topDefaultHeight","calendarBottomText","topValue","getCalendarValuesForMonth","getCalendarValuesForWeek","weeksCount","getCalendarValuesForDay","getCalendarValuesForPartOfDay","hour","getCalendarValuesForHour","displayDate","topPosition","calendarHeader","Arrow","taskFrom","taskTo","taskHeight","path","trianglePoints","drownPathAndTriangleRTL","drownPathAndTriangle","strokeWidth","d","points","indexCompare","taskToEndPosition","taskFromEndPosition","taskFromHorizontalOffsetValue","taskToHorizontalOffsetValue","convertToBarTasks","barCornerRadius","handleWidth","barProgressColor","barProgressSelectedColor","barBackgroundColor","barBackgroundSelectedColor","projectProgressColor","projectProgressSelectedColor","projectBackgroundColor","projectBackgroundSelectedColor","milestoneBackgroundColor","milestoneBackgroundSelectedColor","barTasks","convertToBarTask","dependencies","j","dependence","findIndex","barChildren","barTask","type","convertToMilestone","convertToBar","taskXCoordinateRTL","taskXCoordinate","typeInternal","progressWithByParams","progressWidth","progressX","taskYCoordinate","undefined","backgroundColor","backgroundSelectedColor","progressColor","progressSelectedColor","rotatedHeight","xDate","remainderMillis","percentOfInterval","taskX1","taskX2","progressByX","barWidth","progressPercent","round","progressByXRTL","getProgressPoint","taskY","point","join","startByX","xStep","steps","additionalXValue","newX","endByX","moveByX","newX1","newX2","dateByX","taskX","taskDate","timeStep","getTimezoneOffset","handleTaskBySVGMouseEvent","svgX","action","initEventX1Delta","result","handleTaskBySVGMouseEventForMilestone","handleTaskBySVGMouseEventForBar","changedTask","isChanged","newMoveX1","newMoveX2","isKeyboardEvent","event","removeHiddenTasks","groupedTasks","filter","groupedTask","children","getChildren","taskList","project","taskChildren","forEach","concat","sortTasks","taskA","taskB","orderA","displayOrder","Number","MAX_VALUE","orderB","BarDisplay","isSelected","onMouseDown","getProcessColor","getBarColor","ry","rx","barBackground","BarDateHandle","barHandle","BarProgressHandle","progressPoint","Bar","isProgressChangeable","isDateChangeable","onEventStart","handleHeight","barWrapper","tabIndex","e","BarSmall","Milestone","transform","milestoneWrapper","milestoneBackground","Project","barColor","processColor","projectWith","projectLeftTriangle","projectRightTriangle","projectWrapper","projectBackground","projectTop","TaskItem","isDelete","textRef","taskItem","setTaskItem","isTextInside","setIsTextInside","getBBox","getX","hasChild","onKeyDown","stopPropagation","onMouseEnter","onMouseLeave","onDoubleClick","onFocus","barLabel","barLabelOutside","TaskGanttContent","ganttEvent","svg","arrowColor","setGanttEvent","setFailedTask","onDateChange","onProgressChange","onDelete","createSVGPoint","setXStep","setInitEventX1Delta","isMoving","setIsMoving","dateDelta","newXStep","handleMouseMove","preventDefault","clientX","cursor","matrixTransform","getScreenCTM","inverse","handleMouseUp","operationSuccess","originalSelectedTask","newChangedTask","isNotLikeOriginal","removeEventListener","addEventListener","handleBarEventStart","error","console","stroke","child","isDisabled","TaskGantt","gridProps","calendarProps","barProps","ganttSVGRef","verticalGanttContainerRef","newBarProps","scrollLeft","ganttVerticalContainer","dir","xmlns","horizontalContainer","HorizontalScroll","margin","scrollWrapper","Gantt","listCellWidth","barFill","viewDate","onSelect","wrapperRef","setDateSetup","currentViewDate","setCurrentViewDate","setTaskListWidth","setSvgContainerWidth","setSvgContainerHeight","setBarTasks","failedTask","setScrollY","setScrollX","ignoreScrollEvent","setIgnoreScrollEvent","filteredTasks","sort","newDates","reverse","prevStateTask","find","newTaskList","handleWheel","shiftKey","deltaX","scrollMove","deltaY","newScrollX","newScrollY","passive","handleScrollY","currentTarget","handleScrollX","handleKeyDown","isX","handleSelectedTask","taskId","newSelectedTask","oldSelectedTask","handleExpanderClick","wrapper"],"mappings":"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","ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26],"debugId":null}}]
}